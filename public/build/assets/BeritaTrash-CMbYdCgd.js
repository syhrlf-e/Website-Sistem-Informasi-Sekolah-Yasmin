import{a as y,L as C,d as T}from"./app-F21Gw_vX.js";import{u as N}from"./adminNews-QNGtzZXK.js";import{A as D,al as L,ac as j}from"./ui-BH4Jb6j-.js";import{s as S,i,k as n,l as e,e as u,g as A,m as h,u as b,F as k,C as _,t as c,A as v,c as m,o as I,f as E,j as M}from"./vendor-0BLfaBTW.js";const F={class:"space-y-6"},H={class:"flex items-center justify-between"},R={class:"flex items-center gap-3"},V={__name:"BeritaTrashHeader",setup(o){return(a,d)=>{const l=S("router-link");return n(),i("div",F,[e("div",H,[d[1]||(d[1]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins"}," Tempat Sampah Berita "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," Berita yang dihapus bisa dipulihkan atau dihapus permanen ")],-1)),e("div",R,[u(l,{to:"/yasmin-panel/berita",class:"flex items-center gap-2 px-5 py-3 bg-gray-400 hover:bg-gray-500 text-white rounded-xl font-medium transition-colors duration-200 shadow-lg hover:shadow-xl font-poppins"},{default:A(()=>[u(b(D),{class:"w-5 h-5"}),d[0]||(d[0]=h(" Kembali ",-1))]),_:1})])]),d[2]||(d[2]=e("div",{class:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4"},[e("p",{class:"text-sm text-amber-800 dark:text-amber-200 font-poppins"}," Berita di tempat sampah akan otomatis terhapus permanen setelah 30 hari ")],-1))])}}},q=y(V,[["__scopeId","data-v-6fc6c790"]]),z={class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},G={key:0,class:"p-12 text-center"},K={key:1,class:"overflow-x-auto"},Y={class:"w-full"},J={class:"divide-y divide-gray-200 dark:divide-gray-700"},O={class:"px-6 py-4 text-sm text-gray-900 dark:text-white font-poppins"},Q={class:"px-6 py-4"},U={class:"flex items-center gap-3"},W=["src","alt"],X={class:"font-semibold text-gray-900 dark:text-white font-poppins line-clamp-1"},Z={class:"text-xs text-gray-500 dark:text-gray-400"},ee={class:"px-6 py-4"},te={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 font-poppins"},ae={class:"px-6 py-4"},re={key:0,class:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 font-poppins"},se={key:1,class:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 font-poppins"},oe={class:"px-6 py-4"},ne={class:"flex items-center justify-center gap-2"},ie=["onClick"],de=["onClick"],le={__name:"BeritaTrashTable",props:{items:{type:Array,required:!0},startIndex:{type:Number,default:0}},emits:["restore","force-delete"],setup(o){const a=s=>{const t={event:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400",achievement:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400",announcement:"bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-400",other:"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300"};return t[s]||t.other},d=s=>({event:"Event",achievement:"Prestasi",announcement:"Pengumuman",other:"Lainnya"})[s]||"Lainnya",l=s=>s?new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return(s,t)=>(n(),i("div",z,[o.items.length===0?(n(),i("div",G,[...t[0]||(t[0]=[e("p",{class:"text-gray-600 dark:text-gray-400 font-poppins font-semibold"},"Tempat sampah kosong",-1),e("p",{class:"text-sm text-gray-500 dark:text-gray-500 mt-1"},"Tidak ada berita yang dihapus",-1)])])):(n(),i("div",K,[e("table",Y,[t[3]||(t[3]=e("thead",{class:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"#"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Judul"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Kategori"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Dihapus Pada"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Status"),e("th",{class:"px-6 py-4 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Action")])],-1)),e("tbody",J,[(n(!0),i(k,null,_(o.items,(r,p)=>(n(),i("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[e("td",O,c(o.startIndex+p+1),1),e("td",Q,[e("div",U,[e("img",{src:r.image||"/images/placeholder-news.jpg",alt:r.title,class:"w-12 h-12 rounded-lg object-cover opacity-60"},null,8,W),e("div",null,[e("p",X,c(r.title),1),e("p",Z,c(r.slug),1)])])]),e("td",ee,[e("span",{class:v(["inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium",a(r.category)])},c(d(r.category)),3)]),e("td",te,c(l(r.deleted_at)),1),e("td",ae,[r.published?(n(),i("span",re,[...t[1]||(t[1]=[e("div",{class:"w-2 h-2 rounded-full bg-green-500"},null,-1),h(" Published ",-1)])])):(n(),i("span",se,[...t[2]||(t[2]=[e("div",{class:"w-2 h-2 rounded-full bg-yellow-500"},null,-1),h(" Draft ",-1)])]))]),e("td",oe,[e("div",ne,[e("button",{onClick:g=>s.$emit("restore",r.id),class:"p-2 rounded-lg bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors duration-200 group",title:"Pulihkan"},[u(b(L),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})],8,ie),e("button",{onClick:g=>s.$emit("force-delete",r.id),class:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors duration-200 group",title:"Hapus Permanen"},[u(b(j),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})],8,de)])])]))),128))])])]))]))}},ge=y(le,[["__scopeId","data-v-176aeee6"]]),ce={class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between"},pe={class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},ue={class:"flex items-center gap-2"},xe=["disabled"],me=["onClick"],ye=["disabled"],he={__name:"BeritaTrashPagination",props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0},from:{type:Number,default:0},to:{type:Number,default:0},total:{type:Number,default:0}},emits:["page-change"],setup(o){const a=o,d=m(()=>{const l=[],s=a.currentPage,t=a.lastPage;let r=Math.max(1,s-2),p=Math.min(t,r+4);p-r<4&&(r=Math.max(1,p-4));for(let g=r;g<=p;g++)l.push(g);return l});return(l,s)=>(n(),i("div",ce,[e("p",pe," Showing "+c(o.from||0)+" to "+c(o.to||0)+" of "+c(o.total||0)+" entries ",1),e("div",ue,[e("button",{onClick:s[0]||(s[0]=t=>l.$emit("page-change",o.currentPage-1)),disabled:o.currentPage===1,class:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-poppins disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,xe),(n(!0),i(k,null,_(d.value,t=>(n(),i("button",{key:t,onClick:r=>l.$emit("page-change",t),class:v(["px-4 py-2 rounded-lg font-semibold font-poppins transition-colors duration-200",t===o.currentPage?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},c(t),11,me))),128)),e("button",{onClick:s[1]||(s[1]=t=>l.$emit("page-change",o.currentPage+1)),disabled:o.currentPage===o.lastPage,class:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-poppins disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,ye)])]))}},be=y(he,[["__scopeId","data-v-3dc2ccef"]]),ke={class:"space-y-6"},fe={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 py-12"},_e={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4"},ve={class:"text-sm text-red-600 dark:text-red-400 font-poppins"},we={__name:"BeritaTrash",setup(o){const a=N(),{showSuccess:d,showError:l,confirm:s}=T(),t=m(()=>a.loading),r=m(()=>a.error),p=m(()=>a.items),g=m(()=>({current_page:a.currentPage,last_page:a.lastPage,per_page:a.perPage,total:a.total,from:a.from,to:a.to})),w=x=>{a.currentPage=x,a.fetchTrashedNews()},P=async x=>{if((await s("Pulihkan Berita?","Berita akan dikembalikan ke daftar berita.","Ya, pulihkan!")).isConfirmed)try{await a.restoreNews(x),await d("Berhasil!","Berita telah dipulihkan.")}catch{await l("Gagal!","Terjadi kesalahan saat memulihkan berita.")}},$=async x=>{if((await s("Hapus Permanen?","Berita akan dihapus PERMANEN dan tidak bisa dikembalikan!","Ya, hapus permanen!")).isConfirmed)try{await a.forceDeleteNews(x),await d("Berhasil!","Berita telah dihapus permanen.")}catch{await l("Gagal!","Terjadi kesalahan saat menghapus berita.")}};return I(()=>{a.fetchTrashedNews()}),(x,f)=>(n(),i("div",ke,[u(q),t.value?(n(),i("div",fe,[u(C,{size:"md",color:"blue"})])):r.value?(n(),i("div",_e,[e("p",ve,c(r.value),1)])):(n(),i(k,{key:2},[u(ge,{items:p.value,"start-index":(g.value.current_page-1)*g.value.per_page,onRestore:P,onForceDelete:$},null,8,["items","start-index"]),p.value.length>0?(n(),E(be,{key:0,"current-page":g.value.current_page,"last-page":g.value.last_page,from:g.value.from,to:g.value.to,total:g.value.total,onPageChange:w},null,8,["current-page","last-page","from","to","total"])):M("",!0)],64))]))}},Te=y(we,[["__scopeId","data-v-4d04619e"]]);export{Te as default};
