import{a as $,B as F}from"./app-F21Gw_vX.js";import{x as Z,K as de,p as ue,l as ce,X as N,h as me,s as H,b as X,y as Y}from"./ui-BH4Jb6j-.js";import{c as C,i as r,k as s,l as t,e as c,t as p,u as w,A,j as b,m as R,a as M,r as D,w as L,f as _,U as ge,g as E,T as I,P as J,F as B,C as te,Y as ae,b as fe}from"./vendor-0BLfaBTW.js";import{r as ke}from"./ekskulRegistrationService-DwKLzNOY.js";const pe={class:"p-6 sm:p-8 h-full flex flex-col"},be={class:"mb-3"},xe={class:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white font-poppins mb-2 line-clamp-1"},he={class:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 font-poppins mb-3 line-clamp-1"},ye={class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 leading-relaxed font-poppins font-normal line-clamp-3"},ve={class:"absolute bottom-5 right-5 sm:bottom-6 sm:right-6"},we={class:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-gray-900/10 dark:bg-white/20 flex items-center justify-center overflow-hidden"},$e={__name:"EkskulCard",props:{ekskul:{type:Object,required:!0}},emits:["click"],setup(e){const f=e;return C(()=>f.ekskul.enableRegistration?f.ekskul.isSlotFull?"bg-red-500":"bg-green-500":"bg-gray-400 dark:bg-gray-500"),C(()=>f.ekskul.enableRegistration?f.ekskul.isSlotFull?"Slot penuh":`Tersedia ${f.ekskul.availableSlots} dari ${f.ekskul.maxPeserta} slot`:"Pendaftaran ditutup"),C(()=>f.ekskul.enableRegistration?f.ekskul.isSlotFull?"Penuh":`Tersedia ${f.ekskul.availableSlots}/${f.ekskul.maxPeserta}`:"Ditutup"),(n,d)=>(s(),r("div",{onClick:d[0]||(d[0]=x=>n.$emit("click",e.ekskul)),class:A(["group relative overflow-hidden rounded-3xl shadow-sm cursor-pointer w-full sm:w-[calc(50%-12px)] lg:w-[calc(25%-18px)] h-[280px] sm:h-[300px]",e.ekskul.bgClass])},[t("div",pe,[t("div",be,[c(F,{label:e.ekskul.category,variant:e.ekskul.badgeVariant},null,8,["label","variant"])]),t("h3",xe,p(e.ekskul.name),1),t("p",he,p(e.ekskul.subtitle),1),t("p",ye,p(e.ekskul.description),1),t("div",ve,[t("div",we,[c(w(Z),{class:"w-4 h-4 sm:w-5 sm:h-5 text-gray-900 dark:text-white transition-all duration-300 group-hover:translate-x-3 group-hover:-translate-y-3 group-hover:opacity-0"}),c(w(Z),{class:"w-4 h-4 sm:w-5 sm:h-5 text-gray-900 dark:text-white absolute -translate-x-3 translate-y-3 opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:translate-y-0 group-hover:opacity-100"})])])])],2))}},_e=$($e,[["__scopeId","data-v-274b252e"]]),Se={class:"text-center py-12"},Ce={class:"text-gray-600 dark:text-gray-400 font-poppins"},Ve={__name:"EkskulEmptyState",props:{message:{type:String,default:"Belum ada ekstrakurikuler tersedia"}},setup(e){return(f,n)=>(s(),r("div",Se,[t("p",Ce,p(e.message),1)]))}},De=$(Ve,[["__scopeId","data-v-9be86b1e"]]),je={class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 font-poppins"},Ee={key:0,class:"text-red-500"},Ie=["value","type","required","placeholder","maxlength"],Pe={key:0,class:"mt-1 text-sm text-red-500 font-poppins"},Re={__name:"FormInput",props:{label:{type:String,required:!0},modelValue:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},error:{type:String,default:""},valid:{type:Boolean,default:!1},maxlength:{type:Number,default:null},allowedPattern:{type:RegExp,default:null}},emits:["update:modelValue","input","blur"],setup(e,{emit:f}){const n=e,d=f,x=m=>{!n.allowedPattern||["Backspace","Delete","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab","Enter","Home","End"].includes(m.key)||m.ctrlKey||m.metaKey||n.allowedPattern.test(m.key)||m.preventDefault()},a=m=>{if(!n.allowedPattern)return;const h=m.clipboardData.getData("text"),S=h.split("").filter(y=>n.allowedPattern.test(y)).join("");if(S!==h){m.preventDefault();const y=m.target,u=y.selectionStart,i=y.selectionEnd,T=n.modelValue.slice(0,u)+S+n.modelValue.slice(i);d("update:modelValue",T)}},l=m=>{d("update:modelValue",m.target.value),d("input",m)},o=C(()=>n.error?"border-2 border-red-500":n.valid?"border-2 border-blue-500 focus:ring-2 focus:ring-blue-500":"border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500");return(m,h)=>(s(),r("div",null,[t("label",je,[R(p(e.label)+" ",1),e.required?(s(),r("span",Ee,"*")):b("",!0)]),t("input",{value:e.modelValue,onKeydown:x,onInput:l,onBlur:h[0]||(h[0]=S=>m.$emit("blur",S)),onPaste:a,type:e.type,required:e.required,placeholder:e.placeholder,maxlength:e.maxlength,class:A(["w-full px-3 md:px-4 py-2.5 md:py-3 text-sm md:text-base bg-gray-50 dark:bg-gray-800 rounded-xl focus:outline-none text-gray-900 dark:text-white font-poppins placeholder:text-xs md:placeholder:text-sm transition-colors duration-200",o.value])},null,42,Ie),e.error?(s(),r("p",Pe,p(e.error),1)):b("",!0)]))}},z=$(Re,[["__scopeId","data-v-71d25afd"]]),Be={class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 font-poppins"},Ae={key:0,class:"text-red-500"},Te=["value","required","rows","placeholder"],Oe={key:0,class:"mt-1 text-sm text-red-500 font-poppins"},qe={__name:"FormTextarea",props:{label:{type:String,required:!0},modelValue:{type:String,default:""},placeholder:{type:String,default:""},rows:{type:Number,default:4},required:{type:Boolean,default:!1},error:{type:String,default:""},valid:{type:Boolean,default:!1}},emits:["update:modelValue","blur"],setup(e,{emit:f}){const n=e,d=f,x=l=>{d("update:modelValue",l.target.value)},a=C(()=>n.error?"border-2 border-red-500":n.valid?"border-2 border-blue-500 focus:ring-2 focus:ring-blue-500":"border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500");return(l,o)=>(s(),r("div",null,[t("label",Be,[R(p(e.label)+" ",1),e.required?(s(),r("span",Ae,"*")):b("",!0)]),t("textarea",{value:e.modelValue,onInput:x,onBlur:o[0]||(o[0]=m=>l.$emit("blur",m)),required:e.required,rows:e.rows,placeholder:e.placeholder,class:A(["w-full px-3 md:px-4 py-2.5 md:py-3 text-sm md:text-base bg-gray-50 dark:bg-gray-800 rounded-xl focus:outline-none text-gray-900 dark:text-white font-poppins resize-none placeholder:text-xs md:placeholder:text-sm transition-colors duration-200",a.value])},null,42,Te),e.error?(s(),r("p",Oe,p(e.error),1)):b("",!0)]))}},ze=$(qe,[["__scopeId","data-v-dd1da9a1"]]),Fe={class:"relative"},Ne=["value"],Me={key:0,class:"mt-1 text-sm text-red-500 font-poppins"},Ke={__name:"EkskulTokenInput",props:{modelValue:{type:String,default:""},error:{type:String,default:""},valid:{type:Boolean,default:!1}},emits:["update:modelValue","blur"],setup(e,{emit:f}){const n=e,d=f,x=o=>{d("update:modelValue",o.target.value.toUpperCase())},a=C(()=>n.error?"border-red-500":n.valid?"border-blue-500 focus:ring-2 focus:ring-blue-500":"border-blue-200 dark:border-blue-700 focus:ring-2 focus:ring-blue-500"),l=C(()=>n.error?"text-red-500":"text-blue-600 dark:text-blue-400");return(o,m)=>(s(),r("div",null,[m[1]||(m[1]=t("label",{class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 font-poppins"},[R(" Token Registrasi "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Fe,[t("input",{value:e.modelValue,onInput:x,onBlur:m[0]||(m[0]=h=>o.$emit("blur",h)),type:"text",required:"",placeholder:"Masukkan token registrasi",class:A(["w-full px-3 md:px-4 py-2.5 md:py-3 pr-10 md:pr-12 text-sm md:text-base bg-gray-50 dark:bg-gray-800 border-2 rounded-xl focus:outline-none text-gray-900 dark:text-white font-poppins font-mono tracking-wider placeholder:text-xs md:placeholder:text-sm uppercase transition-colors duration-200",a.value])},null,42,Ne),t("div",{class:A(["absolute right-3 top-1/2 -translate-y-1/2",l.value])},[c(w(de),{class:"w-5 h-5"})],2)]),e.error?(s(),r("p",Me,p(e.error),1)):b("",!0),m[2]||(m[2]=t("p",{class:"mt-2 text-xs text-gray-500 dark:text-gray-400 font-poppins"}," ðŸ’¡ Token dapat diperoleh dari pihak sekolah atau pembina ekstrakurikuler ",-1))]))}},Ue=$(Ke,[["__scopeId","data-v-1df89fa1"]]),Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Je={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl"},Ze={class:"text-sm text-red-700 dark:text-red-300 font-poppins"},He={class:"pt-4"},Xe=["disabled"],Ye={__name:"EkskulRegistrationForm",props:{ekskulId:{type:Number,required:!0},resetTrigger:{type:Number,default:0}},emits:["success","error"],setup(e,{expose:f,emit:n}){const d=e,x=n,a=M({nama:"",email:"",phone:"",kelas:"",alasan:"",registration_token:""}),l=M({}),o=M({nama:!1,email:!1,phone:!1,kelas:!1,alasan:!1,registration_token:!1}),m=D(""),h=D(!1);L(()=>d.resetTrigger,()=>{S()});const S=()=>{a.nama="",a.email="",a.phone="",a.kelas="",a.alasan="",a.registration_token="",Object.keys(l).forEach(g=>delete l[g]),Object.keys(o).forEach(g=>o[g]=!1),m.value=""},y=()=>{const g=j(a.nama);!g||g.length<3?(l.nama="Nama harus minimal 3 karakter",o.nama=!1):g!==a.nama.trim()?(l.nama="Nama mengandung karakter tidak valid",o.nama=!1):(delete l.nama,o.nama=!0)},u=()=>{const g=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;!a.email||!g.test(a.email.trim())?(l.email="Email tidak valid",o.email=!1):(delete l.email,o.email=!0)},i=()=>{const g=/^08[0-9]{8,11}$/;!a.phone||!g.test(a.phone)?(l.phone="Nomor telepon harus diawali 08 dan maksimal 13 digit",o.phone=!1):(delete l.phone,o.phone=!0)},T=()=>{const g=j(a.kelas);!g||g.length<2?(l.kelas="Kelas harus diisi",o.kelas=!1):(delete l.kelas,o.kelas=!0)},se=()=>{const g=j(a.alasan);!g||g.length<20?(l.alasan="Alasan minimal 20 karakter",o.alasan=!1):g!==a.alasan.trim()?(l.alasan="Alasan mengandung karakter tidak valid",o.alasan=!1):(delete l.alasan,o.alasan=!0)},le=()=>{!a.registration_token||a.registration_token.trim().length<8?(l.registration_token="Token registrasi harus diisi (minimal 8 karakter)",o.registration_token=!1):(delete l.registration_token,o.registration_token=!0)},j=g=>g?g.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").replace(/[\x00-\x1F\x7F]/g,"").trim():"",re=g=>{let k=g.target.value.replace(/\D/g,"");k.length>13&&(k=k.slice(0,13)),k.length>0&&!k.startsWith("0")&&(k="0"+k),k.length>1&&k[1]!=="8"&&(k="08"+k.slice(2)),a.phone=k},ne=g=>{let k=g.target.value.replace(/[^a-zA-Z\s'\-]/g,"");k=k.replace(/\s+/g," "),a.nama=k},oe=()=>{Object.keys(l).forEach(q=>delete l[q]),m.value="";let g=!0;const k=j(a.nama);!k||k.length<3?(l.nama="Nama harus minimal 3 karakter",g=!1):k!==a.nama.trim()&&(l.nama="Nama mengandung karakter tidak valid",g=!1);const v=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;(!a.email||!v.test(a.email.trim()))&&(l.email="Email tidak valid",g=!1);const O=/^08[0-9]{8,11}$/;(!a.phone||!O.test(a.phone))&&(l.phone="Nomor telepon harus diawali 08 dan maksimal 13 digit",g=!1);const V=j(a.kelas);(!V||V.length<2)&&(l.kelas="Kelas harus diisi",g=!1);const P=j(a.alasan);return!P||P.length<20?(l.alasan="Alasan minimal 20 karakter",g=!1):P!==a.alasan.trim()&&(l.alasan="Alasan mengandung karakter tidak valid",g=!1),(!a.registration_token||a.registration_token.trim().length<8)&&(l.registration_token="Token registrasi harus diisi (minimal 8 karakter)",g=!1),g},ie=async()=>{var g,k,v,O;if(oe()){h.value=!0,m.value="";try{const V={ekstrakurikuler_id:d.ekskulId,nama_lengkap:j(a.nama),email:a.email.trim().toLowerCase(),no_whatsapp:a.phone.trim(),kelas:j(a.kelas),alasan_bergabung:j(a.alasan),registration_token:a.registration_token.trim().toUpperCase()},P=await ke(V);console.log("Registration success:",P),x("success")}catch(V){if(console.error("âŒ Registration failed:",V),(k=(g=V.response)==null?void 0:g.data)!=null&&k.errors){const P=V.response.data.errors;Object.keys(P).forEach(q=>{l[q]=P[q][0]})}else(O=(v=V.response)==null?void 0:v.data)!=null&&O.message?m.value=V.response.data.message:m.value="Terjadi kesalahan. Silakan coba lagi."}finally{h.value=!1}}};return f({isSubmitting:h}),(g,k)=>(s(),r("form",{onSubmit:ge(ie,["prevent"]),class:"space-y-4 md:space-y-5"},[c(z,{modelValue:a.nama,"onUpdate:modelValue":k[0]||(k[0]=v=>a.nama=v),label:"Nama Lengkap",placeholder:"Masukkan nama lengkap",required:!0,error:l.nama,valid:o.nama,"allowed-pattern":/^[a-zA-Z '\\-]$/,onInput:ne,onBlur:y},null,8,["modelValue","error","valid"]),c(z,{modelValue:a.email,"onUpdate:modelValue":k[1]||(k[1]=v=>a.email=v),label:"Email",type:"email",placeholder:"contoh@email.com",required:!0,error:l.email,valid:o.email,onBlur:u},null,8,["modelValue","error","valid"]),t("div",Le,[c(z,{modelValue:a.phone,"onUpdate:modelValue":k[2]||(k[2]=v=>a.phone=v),label:"No. Telepon",type:"tel",placeholder:"08xxxxxxxxxx",maxlength:13,required:!0,error:l.phone,valid:o.phone,onInput:re,onBlur:i},null,8,["modelValue","error","valid"]),c(z,{modelValue:a.kelas,"onUpdate:modelValue":k[3]||(k[3]=v=>a.kelas=v),label:"Kelas",placeholder:"Contoh: X IPA 1",required:!0,error:l.kelas,valid:o.kelas,onBlur:T},null,8,["modelValue","error","valid"])]),c(ze,{modelValue:a.alasan,"onUpdate:modelValue":k[4]||(k[4]=v=>a.alasan=v),label:"Alasan Bergabung",placeholder:"Ceritakan alasan kamu ingin bergabung dengan ekstrakurikuler ini...",rows:4,required:!0,error:l.alasan,valid:o.alasan,onBlur:se},null,8,["modelValue","error","valid"]),c(Ue,{modelValue:a.registration_token,"onUpdate:modelValue":k[5]||(k[5]=v=>a.registration_token=v),error:l.registration_token,valid:o.registration_token,onBlur:le},null,8,["modelValue","error","valid"]),m.value?(s(),r("div",Je,[t("p",Ze,p(m.value),1)])):b("",!0),t("div",He,[t("button",{type:"submit",class:"w-full px-4 md:px-6 py-2 md:py-3 text-sm md:text-base bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-400 text-white rounded-xl font-semibold font-poppins transition-all shadow-lg hover:shadow-xl disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:h.value},[h.value?(s(),_(w(ue),{key:0,class:"w-4 md:w-5 h-4 md:h-5 animate-spin"})):b("",!0),t("span",null,p(h.value?"Mengirim...":"Daftar Sekarang"),1)],8,Xe)])],32))}},G=$(Ye,[["__scopeId","data-v-dc4753c8"]]),Ge={key:0,class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] flex items-center justify-center p-4"},We={class:"bg-white dark:bg-gray-900 rounded-3xl p-8 max-w-md w-full shadow-2xl text-center"},Qe={class:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4"},et={class:"text-gray-600 dark:text-gray-400 font-poppins mb-6"},tt={__name:"EkskulSuccessModal",props:{show:{type:Boolean,default:!1},message:{type:String,default:"Pendaftaran kamu telah diterima dan sedang menunggu persetujuan dari pembina ekstrakurikuler."}},emits:["close"],setup(e){return(f,n)=>(s(),_(J,{to:"body"},[c(I,{"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:E(()=>[e.show?(s(),r("div",Ge,[t("div",We,[t("div",Qe,[c(w(ce),{class:"w-12 h-12 text-green-600 dark:text-green-400"})]),n[1]||(n[1]=t("h3",{class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins mb-2"}," Pendaftaran Berhasil! ",-1)),t("p",et,p(e.message),1),t("button",{onClick:n[0]||(n[0]=d=>f.$emit("close")),class:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl font-semibold font-poppins hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg"}," Tutup ")])])):b("",!0)]),_:1})]))}},at=$(tt,[["__scopeId","data-v-6195629a"]]),st={key:0,class:"md:hidden fixed bottom-0 left-0 right-0 z-[9999] rounded-t-3xl shadow-2xl bg-white dark:bg-gray-900"},lt={class:"h-[calc(100vh-100px)] flex flex-col"},rt={class:"flex justify-between items-center px-5 pb-3 border-b border-gray-200 dark:border-gray-800 flex-shrink-0"},nt={class:"text-lg font-bold text-gray-900 dark:text-white font-poppins"},ot={class:"flex-1 min-h-0 overflow-y-auto px-5 py-4"},it={key:0,class:"hidden md:flex fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998] items-center justify-center p-4"},dt={key:0,class:"relative w-[600px] lg:w-[700px] max-h-[85vh] rounded-3xl shadow-2xl z-[9999] bg-white dark:bg-gray-900 flex flex-col"},ut={class:"flex-1 flex flex-col overflow-hidden"},ct={class:"flex-shrink-0 p-8 pb-4"},mt={class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins mb-2"},gt={class:"flex-1 overflow-y-auto px-8 pb-8"},ft={__name:"EkskulRegistrationModal",props:{isOpen:{type:Boolean,default:!1},ekskulData:{type:Object,required:!0,default:()=>({})}},emits:["close","success"],setup(e,{emit:f}){const n=e,d=f,x=D(null),a=D(null),l=D(!1),o=D(0),m=C(()=>{var u,i;return((u=x.value)==null?void 0:u.isSubmitting)||((i=a.value)==null?void 0:i.isSubmitting)});L(()=>n.isOpen,u=>{u?document.body.style.overflow="hidden":(document.body.style.overflow="",o.value++)});const h=()=>{m.value||d("close")},S=()=>{l.value=!0},y=()=>{l.value=!1,d("close"),d("success")};return(u,i)=>(s(),r(B,null,[(s(),_(J,{to:"body"},[c(I,{name:"backdrop"},{default:E(()=>[e.isOpen?(s(),r("div",{key:0,onClick:h,class:"md:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]"})):b("",!0)]),_:1}),c(I,{name:"slide-up"},{default:E(()=>[e.isOpen?(s(),r("div",st,[t("div",lt,[i[1]||(i[1]=t("div",{class:"flex justify-center pt-3 pb-2 flex-shrink-0"},[t("div",{class:"w-12 h-1.5 rounded-full bg-gray-300 dark:bg-gray-700"})],-1)),t("div",rt,[t("div",null,[t("h4",nt,"Daftar "+p(e.ekskulData.name),1),i[0]||(i[0]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400 font-poppins mt-0.5"},"Token dari pihak sekolah",-1))]),t("button",{onClick:h,class:"w-9 h-9 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center transition-colors"},[c(w(N),{class:"w-5 h-5 text-gray-700 dark:text-gray-300"})])]),t("div",ot,[c(G,{ref_key:"formRefMobile",ref:x,"ekskul-id":e.ekskulData.id,"reset-trigger":o.value,onSuccess:S},null,8,["ekskul-id","reset-trigger"])])])])):b("",!0)]),_:1}),c(I,{"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:E(()=>[e.isOpen?(s(),r("div",it,[c(I,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:E(()=>[e.isOpen?(s(),r("div",dt,[t("button",{onClick:h,class:"absolute top-4 right-4 z-[10000] w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 shadow-lg flex items-center justify-center hover:scale-110 transition-transform duration-200 group","aria-label":"Close"},[c(w(N),{class:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:text-red-500 transition-colors"})]),t("div",ut,[t("div",ct,[t("h2",mt," Daftar "+p(e.ekskulData.name),1),i[2]||(i[2]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"}," Isi formulir di bawah ini untuk mendaftar. Token registrasi dapat diperoleh dari pihak sekolah. ",-1))]),t("div",gt,[c(G,{ref_key:"formRefDesktop",ref:a,"ekskul-id":e.ekskulData.id,"reset-trigger":o.value,onSuccess:S},null,8,["ekskul-id","reset-trigger"])])])])):b("",!0)]),_:1})])):b("",!0)]),_:1})])),c(at,{show:l.value,onClose:y},null,8,["show"])],64))}},kt=$(ft,[["__scopeId","data-v-f0a761ce"]]),pt={key:0,class:"mb-6 flex-grow"},bt={class:"space-y-2"},xt={class:"text-sm text-gray-700 dark:text-gray-400 font-poppins"},ht={__name:"EkskulBenefits",props:{benefits:{type:Array,default:()=>[]}},setup(e){return(f,n)=>e.benefits&&e.benefits.length>0?(s(),r("div",pt,[n[0]||(n[0]=t("h4",{class:"text-lg font-bold text-gray-800 dark:text-white mb-3 font-poppins"}," Yang Kamu Dapatkan ",-1)),t("ul",bt,[(s(!0),r(B,null,te(e.benefits,(d,x)=>(s(),r("li",{key:x,class:"flex items-start gap-2"},[c(w(me),{class:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),t("span",xt,p(d),1)]))),128))])])):b("",!0)}},W=$(ht,[["__scopeId","data-v-33674549"]]),yt={class:"flex-shrink-0 p-5 md:p-8 pb-3 md:pb-4"},vt={class:"md:hidden mb-3"},wt={class:"md:hidden mb-3"},$t={class:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white font-poppins"},_t={class:"hidden md:flex items-center gap-3 mb-3 flex-wrap"},St={class:"text-3xl font-bold text-gray-900 dark:text-white font-poppins"},Ct={class:"text-sm md:text-base font-reguler text-gray-700 dark:text-gray-300 font-poppins"},Vt={__name:"EkskulDetailHeader",props:{data:{type:Object,required:!0}},setup(e){return(f,n)=>(s(),r("div",yt,[t("div",vt,[c(F,{label:e.data.category,variant:e.data.badgeVariant},null,8,["label","variant"])]),t("div",wt,[t("h3",$t,p(e.data.name),1)]),t("div",_t,[t("h3",St,p(e.data.name),1),c(F,{label:e.data.category,variant:e.data.badgeVariant},null,8,["label","variant"])]),t("p",Ct,' "'+p(e.data.subtitle)+'" ',1)]))}},Dt=$(Vt,[["__scopeId","data-v-3a694e58"]]),jt={class:"flex-1 px-6"},Et={class:"flex flex-col items-center gap-2"},It={class:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center mb-2"},Pt={class:"text-sm font-bold text-gray-800 dark:text-white font-poppins"},Rt={class:"text-sm text-gray-700 dark:text-gray-400 font-poppins"},Bt={__name:"EkskulInfoColumn",props:{icon:{type:[Object,Function],required:!0},label:{type:String,required:!0},value:{type:String,required:!0}},setup(e){return(f,n)=>(s(),r("div",jt,[t("div",Et,[t("div",It,[(s(),_(ae(e.icon),{class:"w-6 h-6 text-gray-700 dark:text-gray-300"}))]),t("p",Pt,p(e.label),1),t("p",Rt,p(e.value),1)])]))}},K=$(Bt,[["__scopeId","data-v-30716b20"]]),At={class:"flex items-start gap-3"},Tt={class:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center flex-shrink-0"},Ot={class:"font-semibold text-gray-800 dark:text-white font-poppins"},qt={class:"text-sm text-gray-700 dark:text-gray-400 font-poppins"},zt={__name:"EkskulInfoItem",props:{icon:{type:[Object,Function],required:!0},label:{type:String,required:!0},value:{type:String,required:!0}},setup(e){return(f,n)=>(s(),r("div",At,[t("div",Tt,[(s(),_(ae(e.icon),{class:"w-5 h-5 text-gray-700 dark:text-gray-300"}))]),t("div",null,[t("p",Ot,p(e.label),1),t("p",qt,p(e.value),1)])]))}},U=$(zt,[["__scopeId","data-v-1d1aeeb3"]]),Ft={class:"mb-6 flex-shrink-0"},Nt={class:"md:hidden border-y border-gray-300 dark:border-gray-700 py-4 space-y-4"},Mt={class:"hidden md:block border-y border-gray-300 dark:border-gray-700"},Kt={class:"flex justify-center items-stretch text-center divide-x divide-gray-300 dark:divide-gray-700 py-6"},Q={__name:"EkskulInfoGrid",props:{data:{type:Object,required:!0}},setup(e){return(f,n)=>(s(),r("div",Ft,[t("div",Nt,[e.data.schedule?(s(),_(U,{key:0,icon:w(H),label:"Jadwal",value:e.data.schedule},null,8,["icon","value"])):b("",!0),e.data.location?(s(),_(U,{key:1,icon:w(X),label:"Tempat",value:e.data.location},null,8,["icon","value"])):b("",!0),e.data.mentor?(s(),_(U,{key:2,icon:w(Y),label:"Pembina",value:e.data.mentor},null,8,["icon","value"])):b("",!0)]),t("div",Mt,[t("div",Kt,[e.data.schedule?(s(),_(K,{key:0,icon:w(H),label:"Jadwal",value:e.data.schedule},null,8,["icon","value"])):b("",!0),e.data.location?(s(),_(K,{key:1,icon:w(X),label:"Tempat",value:e.data.location},null,8,["icon","value"])):b("",!0),e.data.mentor?(s(),_(K,{key:2,icon:w(Y),label:"Pembina",value:e.data.mentor},null,8,["icon","value"])):b("",!0)])])]))}},Ut={class:"pt-6 mt-auto flex-shrink-0"},Lt={key:0,class:"flex flex-col gap-3 p-4 rounded-2xl border-2 border-gray-900/10 dark:border-white/10"},Jt={key:1,class:"flex flex-col gap-2"},Zt={key:0,class:"w-8 h-8 text-red-500 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ht={key:1,class:"w-8 h-8 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xt={class:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400 font-poppins text-center"},Yt={__name:"EkskulRegisterCTA",props:{enableRegistration:{type:Boolean,default:!1},registrationClosureReason:{type:String,default:""},registrationDeadline:{type:String,default:""},maxPeserta:{type:Number,default:null},availableSlots:{type:Number,default:-1},isSlotFull:{type:Boolean,default:!1}},emits:["join"],setup(e){const f=e;C(()=>!f.maxPeserta||f.availableSlots<0?100:Math.round(f.availableSlots/f.maxPeserta*100));const n=C(()=>{switch(f.registrationClosureReason){case"slot_full":return"Pendaftaran Penuh";case"deadline_passed":return"Pendaftaran Ditutup";default:return"Pendaftaran Belum Dibuka"}}),d=x=>{if(!x)return"-";const a=new Date(x),l={day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"};return a.toLocaleDateString("id-ID",l)};return(x,a)=>(s(),r("div",Ut,[e.enableRegistration?(s(),r("div",Lt,[a[2]||(a[2]=t("p",{class:"text-sm font-medium text-gray-900 dark:text-white font-poppins"}," Apakah kamu tertarik untuk bergabung bersama kami? ",-1)),a[3]||(a[3]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400 font-poppins"}," ðŸ’¡ Dapatkan token registrasi dari pihak sekolah untuk mendaftar ",-1)),t("button",{onClick:a[0]||(a[0]=l=>x.$emit("join")),class:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-400 text-white rounded-xl font-semibold font-poppins transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2"},[...a[1]||(a[1]=[t("span",null,"Daftar Sekarang",-1),t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])])])):(s(),r("div",Jt,[t("div",{class:A(["flex flex-col items-center justify-center gap-2 p-4 rounded-2xl",e.registrationClosureReason==="slot_full"?"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800":"bg-gray-100 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700"])},[e.registrationClosureReason==="slot_full"?(s(),r("svg",Zt,[...a[4]||(a[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},null,-1)])])):(s(),r("svg",Ht,[...a[5]||(a[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])])),t("p",{class:A(["text-sm md:text-base font-semibold font-poppins",e.registrationClosureReason==="slot_full"?"text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300"])},p(n.value),3)],2),t("p",Xt,[e.registrationClosureReason==="slot_full"?(s(),r(B,{key:0},[R(" Kuota pendaftaran sudah terpenuhi"+p(e.maxPeserta?` (${e.maxPeserta} peserta)`:"")+". Silakan hubungi pihak sekolah untuk informasi lebih lanjut. ",1)],64)):e.registrationClosureReason==="deadline_passed"?(s(),r(B,{key:1},[a[6]||(a[6]=R(" Batas waktu pendaftaran telah berakhir pada ",-1)),t("strong",null,p(d(e.registrationDeadline)),1),a[7]||(a[7]=R(". Silakan hubungi pihak sekolah untuk informasi lebih lanjut. ",-1))],64)):(s(),r(B,{key:2},[R(" Silakan hubungi pihak sekolah untuk informasi lebih lanjut. ")],64))])]))]))}},ee=$(Yt,[["__scopeId","data-v-0c71e92e"]]),Gt={key:0,class:"md:hidden fixed bottom-0 left-0 right-0 z-[9999] rounded-t-3xl shadow-2xl bg-white dark:bg-gray-900"},Wt={class:"h-[calc(100vh-100px)] flex flex-col"},Qt={class:"flex-shrink-0 px-5 pb-3 border-b border-gray-200 dark:border-gray-800"},ea={class:"mb-2"},ta={class:"flex justify-between items-start mb-2"},aa={class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins pr-10"},sa={key:0,class:"text-sm text-gray-700 dark:text-gray-300 font-poppins italic"},la={class:"flex-1 min-h-0 overflow-y-auto px-5 py-4"},ra={key:0,class:"w-full h-40 bg-white/50 dark:bg-gray-800/50 rounded-2xl mb-5"},na=["src","alt"],oa={class:"mb-5"},ia={class:"text-sm text-gray-700 dark:text-gray-400 leading-relaxed font-poppins"},da={key:1,class:"mb-5"},ua={class:"text-sm text-gray-700 dark:text-gray-400 leading-relaxed font-poppins"},ca={key:2,class:"mb-5"},ma={class:"text-sm text-gray-700 dark:text-gray-400 leading-relaxed font-poppins"},ga={key:0,class:"hidden md:flex fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998] items-center justify-center p-4"},fa={key:0,class:"relative w-[600px] lg:w-[700px] xl:w-[750px] max-h-[85vh] rounded-3xl shadow-2xl z-[9999] bg-white dark:bg-gray-900 flex flex-col"},ka={class:"flex-1 flex flex-col overflow-hidden"},pa={class:"flex-1 overflow-y-auto px-8 pb-8"},ba={key:0,class:"w-full h-48 bg-white/50 dark:bg-gray-800/50 rounded-2xl mb-6"},xa=["src","alt"],ha={class:"mb-6"},ya={class:"text-sm text-gray-700 dark:text-gray-400 leading-relaxed font-poppins"},va={key:1,class:"mb-6"},wa={class:"text-sm text-gray-700 dark:text-gray-400 leading-relaxed font-poppins"},$a={key:2,class:"mb-6"},_a={class:"text-sm text-gray-700 dark:text-gray-400 leading-relaxed font-poppins"},Sa={__name:"EkskulDetailOverlay",props:{isOpen:{type:Boolean,default:!1},data:{type:Object,required:!0,default:()=>({})}},emits:["close","join","reopen"],setup(e,{emit:f}){const n=e,d=D({availableSlots:0,isSlotFull:!1});let x=null;const a=u=>u?new Date(u).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-",l=f,o=D(!1);L(()=>n.isOpen,u=>{u?(document.body.style.overflow="hidden",d.value={availableSlots:n.data.availableSlots??0,isSlotFull:n.data.isSlotFull??!1},window.Echo&&n.data.id&&(x=window.Echo.channel("ekskul").listen(".slot.updated",i=>{i.ekskulId===n.data.id&&(d.value={availableSlots:i.availableSlots,isSlotFull:i.isSlotFull})}))):(document.body.style.overflow="",x&&(x.stopListening(".slot.updated"),x=null))}),fe(()=>{x&&x.stopListening(".slot.updated")});const m=()=>{l("close")},h=()=>{l("close"),o.value=!0},S=()=>{o.value=!1},y=()=>{o.value=!1,l("close")};return(u,i)=>(s(),r(B,null,[(s(),_(J,{to:"body"},[c(I,{name:"backdrop"},{default:E(()=>[e.isOpen?(s(),r("div",{key:0,onClick:m,class:"md:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]"})):b("",!0)]),_:1}),c(I,{name:"slide-up"},{default:E(()=>[e.isOpen?(s(),r("div",Gt,[t("div",Wt,[i[3]||(i[3]=t("div",{class:"flex justify-center pt-3 pb-2 flex-shrink-0"},[t("div",{class:"w-12 h-1.5 rounded-full bg-gray-300 dark:bg-gray-700"})],-1)),t("div",Qt,[t("div",ea,[c(F,{label:e.data.category,variant:e.data.badgeVariant},null,8,["label","variant"])]),t("div",ta,[t("h3",aa,p(e.data.name),1),t("button",{onClick:m,class:"w-9 h-9 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center transition-colors flex-shrink-0"},[c(w(N),{class:"w-5 h-5 text-gray-700 dark:text-gray-300"})])]),e.data.subtitle?(s(),r("p",sa,' "'+p(e.data.subtitle)+'" ',1)):b("",!0)]),t("div",la,[e.data.image?(s(),r("div",ra,[t("img",{src:e.data.image,alt:e.data.name,class:"w-full h-full object-cover rounded-2xl"},null,8,na)])):b("",!0),t("div",oa,[i[0]||(i[0]=t("h4",{class:"text-sm font-semibold text-gray-800 dark:text-white mb-1 font-poppins"},"Deskripsi",-1)),t("p",ia,p(e.data.description),1)]),e.data.maxPeserta?(s(),r("div",da,[i[1]||(i[1]=t("h4",{class:"text-sm font-semibold text-gray-800 dark:text-white mb-1 font-poppins"},"Kuota Pendaftaran",-1)),t("p",ua,p(d.value.availableSlots>=0?`Tersedia ${d.value.availableSlots} dari ${e.data.maxPeserta} slot`:`${e.data.maxPeserta} Peserta`),1)])):b("",!0),e.data.registrationDeadline?(s(),r("div",ca,[i[2]||(i[2]=t("h4",{class:"text-sm font-semibold text-gray-800 dark:text-white mb-1 font-poppins"},"Batas Pendaftaran",-1)),t("p",ma,p(a(e.data.registrationDeadline)),1)])):b("",!0),c(Q,{data:e.data},null,8,["data"]),c(W,{benefits:e.data.benefits},null,8,["benefits"]),c(ee,{"enable-registration":e.data.enableRegistration&&!d.value.isSlotFull,"registration-closure-reason":d.value.isSlotFull?"slot_full":e.data.registrationClosureReason,"registration-deadline":e.data.registrationDeadline,"max-peserta":e.data.maxPeserta,"available-slots":d.value.availableSlots,"is-slot-full":d.value.isSlotFull,onJoin:h},null,8,["enable-registration","registration-closure-reason","registration-deadline","max-peserta","available-slots","is-slot-full"])])])])):b("",!0)]),_:1}),c(I,{"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:E(()=>[e.isOpen?(s(),r("div",ga,[c(I,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:E(()=>[e.isOpen?(s(),r("div",fa,[t("button",{onClick:m,class:"absolute top-4 right-4 z-[10000] w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-800 shadow-lg flex items-center justify-center hover:scale-110 transition-transform duration-200 group","aria-label":"Close"},[c(w(N),{class:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:text-red-500 transition-colors"})]),t("div",ka,[c(Dt,{data:e.data},null,8,["data"]),t("div",pa,[e.data.image?(s(),r("div",ba,[t("img",{src:e.data.image,alt:e.data.name,class:"w-full h-full object-cover rounded-2xl"},null,8,xa)])):b("",!0),t("div",ha,[i[4]||(i[4]=t("h4",{class:"text-base font-semibold text-gray-800 dark:text-white mb-1 font-poppins"},"Deskripsi",-1)),t("p",ya,p(e.data.description),1)]),e.data.maxPeserta?(s(),r("div",va,[i[5]||(i[5]=t("h4",{class:"text-base font-semibold text-gray-800 dark:text-white mb-1 font-poppins"},"Kuota Pendaftaran",-1)),t("p",wa,p(d.value.availableSlots>=0?`Tersedia ${d.value.availableSlots} dari ${e.data.maxPeserta} slot`:`${e.data.maxPeserta} Peserta`),1)])):b("",!0),e.data.registrationDeadline?(s(),r("div",$a,[i[6]||(i[6]=t("h4",{class:"text-base font-semibold text-gray-800 dark:text-white mb-1 font-poppins"},"Batas Pendaftaran",-1)),t("p",_a,p(a(e.data.registrationDeadline)),1)])):b("",!0),c(Q,{data:e.data},null,8,["data"]),c(W,{benefits:e.data.benefits},null,8,["benefits"]),c(ee,{"enable-registration":e.data.enableRegistration&&!d.value.isSlotFull,"registration-closure-reason":d.value.isSlotFull?"slot_full":e.data.registrationClosureReason,"registration-deadline":e.data.registrationDeadline,"max-peserta":e.data.maxPeserta,"available-slots":d.value.availableSlots,"is-slot-full":d.value.isSlotFull,onJoin:h},null,8,["enable-registration","registration-closure-reason","registration-deadline","max-peserta","available-slots","is-slot-full"])])])])):b("",!0)]),_:1})])):b("",!0)]),_:1})])),c(kt,{"is-open":o.value,"ekskul-data":e.data,onClose:S,onSuccess:y},null,8,["is-open","ekskul-data"])],64))}},Ca=$(Sa,[["__scopeId","data-v-d5b42bd1"]]),Va={id:"ekskul",class:"py-20 transition-colors duration-300"},Da={class:"container-content"},ja={key:2,class:"flex flex-wrap justify-center gap-6 max-w-9xl mx-auto"},Ea={__name:"EkstrakurikulerSection",props:{ekstrakurikuler:{type:Array,default:()=>[]}},emits:["modal-open","modal-close"],setup(e,{emit:f}){const n=e,d=f,x=D(!1),a=D({}),l=C(()=>{const y=u=>{const i={Akademik:{bgClass:"bg-gradient-to-br from-emerald-100 to-emerald-50 dark:bg-gray-900 dark:bg-gradient-to-br dark:from-emerald-500/20 dark:to-transparent",badgeVariant:"emerald"},Olahraga:{bgClass:"bg-gradient-to-br from-indigo-100 to-indigo-50 dark:bg-gray-900 dark:bg-gradient-to-br dark:from-indigo-500/20 dark:to-transparent",badgeVariant:"indigo"},Seni:{bgClass:"bg-gradient-to-br from-yellow-100 to-yellow-50 dark:bg-gray-900 dark:bg-gradient-to-br dark:from-yellow-500/20 dark:to-transparent",badgeVariant:"yellow"},Kepemimpinan:{bgClass:"bg-gradient-to-br from-rose-100 to-rose-50 dark:bg-gray-900 dark:bg-gradient-to-br dark:from-rose-500/20 dark:to-transparent",badgeVariant:"rose"}};return i[u]||i.Akademik};return n.ekstrakurikuler.map(u=>{var T;const i=y(u.category||"Akademik");return{id:u.id,name:u.name,category:((T=u.category)==null?void 0:T.toLowerCase())||"akademik",subtitle:u.tagline||"",description:u.description,bgClass:i.bgClass,badgeVariant:i.badgeVariant,schedule:u.schedule,location:u.location||"",mentor:u.mentor||"",benefits:Array.isArray(u.benefits)?u.benefits:[],image:u.image,maxPeserta:u.max_participants,availableSlots:u.available_slots,approvedCount:u.approved_registrations_count,isSlotFull:u.is_slot_full,enableRegistration:u.is_registration_open,registrationDeadline:u.registration_deadline,registrationClosureReason:u.registration_closure_reason}})}),o=y=>{a.value=y,x.value=!0,d("modal-open")},m=()=>{x.value=!1,d("modal-close")},h=y=>{console.log("Join clicked for ekskul:",y)},S=()=>{x.value=!0,d("modal-open")};return(y,u)=>(s(),r("section",Va,[t("div",Da,[u[0]||(u[0]=t("div",{class:"text-center mb-16"},[t("h2",{class:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4 font-poppins"}," Ekstrakurikuler ")],-1)),(s(),r("div",ja,[(s(!0),r(B,null,te(l.value.slice(0,8),i=>(s(),_(_e,{key:i.id,ekskul:i,onClick:o},null,8,["ekskul"]))),128))])),l.value.length===0?(s(),_(De,{key:3})):b("",!0)]),c(Ca,{"is-open":x.value,data:a.value,onClose:m,onJoin:h,onReopen:S},null,8,["is-open","data"])]))}},Aa=$(Ea,[["__scopeId","data-v-d09b33d0"]]);export{Aa as default};
