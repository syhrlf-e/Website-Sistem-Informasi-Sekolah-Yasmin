import{S as V,r as i,o as U,b as B,i as u,k as o,l as t,e as f,u as r,m as v,D,U as C,j as E,B as y,O as T,a0 as $,f as k,X as R,t as g}from"./vendor-0BLfaBTW.js";import{a as q,u as z}from"./app-F21Gw_vX.js";import{z as G,c as H,r as O,B as W,G as J,H as K,J as X}from"./ui-BH4Jb6j-.js";const Y={key:0,class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4 relative overflow-hidden"},F={class:"relative w-full max-w-md"},Q={class:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 p-8 text-center"},Z={class:"w-24 h-24 mx-auto mb-6 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center"},ee={key:1,class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4 relative overflow-hidden"},te={class:"relative w-full max-w-md"},ae={class:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 p-8"},se={class:"relative"},re={class:"relative"},oe=["type"],le={class:"flex items-center justify-between"},ne={class:"flex items-center gap-2 cursor-pointer"},ie={key:0,class:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl"},de={class:"text-sm text-red-600 dark:text-red-400 font-poppins"},ue=["disabled"],pe={key:1,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"},me={key:1,class:"text-center py-8"},be={class:"w-20 h-20 mx-auto mb-6 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center"},fe={class:"text-gray-600 dark:text-gray-400 mb-6 font-poppins"},ge={class:"text-center"},ce={class:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-poppins tabular-nums"},xe={__name:"LoginPage",setup(ve){const h=V(),{login:L,isLoading:c}=z(),s=i({email:"",password:"",remember:!1}),m=i(!1),p=i(""),x=i(!1),b=i(0),w=i("");let d=null;const _=i(!1),M=i(!1),S=()=>{_.value=window.innerWidth<768};U(()=>{s.value.email="",s.value.password="",s.value.remember=!1,S()}),B(()=>{d&&clearInterval(d)});const j=l=>{const e=Math.floor(l/60),a=l%60;return`${e}:${a.toString().padStart(2,"0")}`},N=l=>{b.value=l,x.value=!0,d&&clearInterval(d),d=setInterval(()=>{b.value--,b.value<=0&&(clearInterval(d),x.value=!1,p.value="")},1e3)},P=async()=>{var l,e,a,A;p.value="";try{const n=await L({email:s.value.email,password:s.value.password});(((l=n==null?void 0:n.user)==null?void 0:l.role)||"admin")==="admin_ppdb"?h.push("/yasmin-panel/ppdb"):h.push("/yasmin-panel/dashboard")}catch(n){if(((e=n.response)==null?void 0:e.status)===429){const I=n.response.data.retry_after||60;w.value=n.response.data.message||"Terlalu banyak percobaan login",N(I)}else p.value=((A=(a=n.response)==null?void 0:a.data)==null?void 0:A.message)||"Login gagal. Silakan coba lagi."}};return(l,e)=>_.value&&!M.value?(o(),u("div",Y,[e[9]||(e[9]=t("div",{class:"fixed inset-0 overflow-hidden pointer-events-none"},[t("div",{class:"absolute -top-[20%] -right-[10%] w-[600px] h-[600px] bg-gradient-to-br from-amber-400/20 to-orange-300/10 rounded-full blur-3xl animate-pulse-slow"}),t("div",{class:"absolute -bottom-[20%] -left-[10%] w-[700px] h-[700px] bg-gradient-to-tr from-amber-400/20 to-yellow-300/10 rounded-full blur-3xl",style:{"animation-delay":"2s"}})],-1)),t("div",F,[t("div",Q,[t("div",Z,[f(r(G),{class:"w-12 h-12 text-amber-600 dark:text-amber-400"})]),e[5]||(e[5]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-3 font-poppins"}," Peringatan Perangkat ",-1)),e[6]||(e[6]=t("p",{class:"text-gray-600 dark:text-gray-400 mb-8 font-poppins leading-relaxed"},[v(" Admin Panel dioptimalkan untuk perangkat "),t("strong",{class:"text-gray-900 dark:text-white"},"Desktop"),v(". Untuk pengalaman terbaik, silakan buka di laptop atau komputer. ")],-1)),e[7]||(e[7]=t("a",{href:"/",class:"block w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl font-poppins mb-4"}," Kembali ke Halaman Utama ",-1)),t("button",{onClick:e[0]||(e[0]=a=>M.value=!0),class:"text-sm text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 font-poppins underline transition-colors"}," Lanjutkan ke Login ")]),e[8]||(e[8]=t("p",{class:"text-center text-sm text-gray-600 dark:text-gray-400 mt-6 font-poppins"}," © 2025 SMA Mutiara Insan Nusantara. All rights reserved. ",-1))])])):(o(),u("div",ee,[e[16]||(e[16]=t("div",{class:"fixed inset-0 overflow-hidden pointer-events-none"},[t("div",{class:"absolute -top-[20%] -right-[10%] w-[600px] h-[600px] bg-gradient-to-br from-blue-400/20 to-cyan-300/10 rounded-full blur-3xl animate-pulse-slow"}),t("div",{class:"absolute -bottom-[20%] -left-[10%] w-[700px] h-[700px] bg-gradient-to-tr from-purple-400/20 to-pink-300/10 rounded-full blur-3xl",style:{"animation-delay":"2s"}})],-1)),t("div",te,[t("div",ae,[e[14]||(e[14]=D('<div class="text-center mb-8" data-v-89992540><div class="w-20 h-20 mx-auto mb-4 flex items-center justify-center" data-v-89992540><img src="/img/logo_yasmin.png" alt="logo yasmin" data-v-89992540></div><h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2 font-poppins" data-v-89992540>Yasmin Panel</h1><p class="text-gray-600 dark:text-gray-400 font-poppins" data-v-89992540>Masuk ke dashboard admin</p></div>',1)),x.value?(o(),u("div",me,[t("div",be,[f(r(X),{class:"w-10 h-10 text-red-600 dark:text-red-400"})]),e[13]||(e[13]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-3 font-poppins"},"PERINGATAN!",-1)),t("p",fe,g(w.value),1),t("div",ge,[t("div",ce,g(j(b.value)),1)])])):(o(),u("form",{key:0,onSubmit:C(P,["prevent"]),class:"space-y-5",autocomplete:"off"},[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 font-poppins"},"Email",-1)),t("div",se,[f(r(H),{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),type:"email",name:"email-field",autocomplete:"new-password",readonly:"",onfocus:"this.removeAttribute('readonly')",required:"",placeholder:"admin@example.com",class:"w-full pl-10 pr-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder:text-gray-400 font-poppins transition-all bg-transparent"},null,512),[[T,s.value.email]])])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 font-poppins"},"Password",-1)),t("div",re,[f(r(O),{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.password=a),type:m.value?"text":"password",name:"password-field",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",readonly:"",onfocus:"this.removeAttribute('readonly'); this.setAttribute('autocomplete', 'off');",required:"",placeholder:"••••••••",class:"w-full pl-10 pr-12 py-3 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder:text-gray-400 font-poppins transition-all bg-transparent"},null,8,oe),[[$,s.value.password]]),t("button",{type:"button",onClick:e[3]||(e[3]=a=>m.value=!m.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[m.value?(o(),k(r(W),{key:0,class:"w-5 h-5"})):(o(),k(r(J),{key:1,class:"w-5 h-5"}))])])]),t("div",le,[t("label",ne,[y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.remember=a),type:"checkbox",class:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[R,s.value.remember]]),e[12]||(e[12]=t("span",{class:"text-sm text-gray-700 dark:text-gray-300 font-poppins"},"Ingat saya",-1))])]),p.value?(o(),u("div",ie,[t("p",de,g(p.value),1)])):E("",!0),t("button",{type:"submit",disabled:r(c),class:"w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 disabled:from-gray-400 disabled:to-gray-400 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl font-poppins flex items-center justify-center gap-2"},[r(c)?(o(),u("div",pe)):(o(),k(r(K),{key:0,class:"w-5 h-5"})),v(" "+g(r(c)?"Memproses...":"Masuk"),1)],8,ue)],32))]),e[15]||(e[15]=t("p",{class:"text-center text-sm text-gray-600 dark:text-gray-400 mt-6 font-poppins"}," © 2025 SMA Mutiara Insan Nusantara. All rights reserved. ",-1))])]))}},we=q(xe,[["__scopeId","data-v-89992540"]]);export{we as default};
