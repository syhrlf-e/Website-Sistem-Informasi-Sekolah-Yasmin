import{r as p,o as k,i as o,k as d,l as e,e as x,u as c,t as r,B as _,W as w,F as j,C as D,A as f}from"./vendor-0BLfaBTW.js";import{a as P,c as u}from"./app-F21Gw_vX.js";import{l as C,m as B,C as L,f as A}from"./ui-BH4Jb6j-.js";const F={class:"space-y-6"},I={class:"grid grid-cols-1 sm:grid-cols-3 gap-6"},M={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},N={class:"flex items-center justify-between mb-4"},S={class:"w-12 h-12 rounded-xl bg-green-50 dark:bg-green-900/20 flex items-center justify-center"},T={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},H={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},V={class:"flex items-center justify-between mb-4"},E={class:"w-12 h-12 rounded-xl bg-red-50 dark:bg-red-900/20 flex items-center justify-center"},R={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},z={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},J={class:"flex items-center justify-between mb-4"},K={class:"w-12 h-12 rounded-xl bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center"},O={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},U={class:"flex gap-3"},W={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},X={key:0,class:"flex items-center justify-center py-12"},$={key:1,class:"text-center py-12"},q={key:2,class:"overflow-x-auto"},G={class:"w-full"},Q={class:"divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"px-4 py-3 font-mono text-sm text-blue-600"},Z={class:"px-4 py-3 font-medium text-gray-900 dark:text-white"},ee={class:"px-4 py-3 text-sm text-gray-600"},te={class:"px-4 py-3"},se={class:"px-4 py-3 text-center"},ae={__name:"PpdbPengumumanList",setup(re){const g=p(!0),n=p([]),l=p("all"),i=p({}),m=async()=>{var a,t,s;g.value=!0;try{let y=l.value==="all"?"accepted,rejected":l.value;if(l.value==="all"){const[b,v]=await Promise.all([u.get("/yasmin-panel/ppdb/registrations?status=accepted&per_page=100"),u.get("/yasmin-panel/ppdb/registrations?status=rejected&per_page=100")]);n.value=[...((a=b.data.data)==null?void 0:a.data)||[],...((t=v.data.data)==null?void 0:t.data)||[]]}else{const b=await u.get(`/yasmin-panel/ppdb/registrations?status=${y}&per_page=100`);n.value=((s=b.data.data)==null?void 0:s.data)||[]}}catch(y){console.error("Failed to fetch:",y)}finally{g.value=!1}},h=async()=>{try{const a=await u.get("/yasmin-panel/ppdb/dashboard");a.data.success&&(i.value=a.data.data.by_status)}catch(a){console.error("Failed to fetch counts:",a)}};return k(()=>{m(),h()}),(a,t)=>(d(),o("div",F,[t[11]||(t[11]=e("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins"},"Pengumuman PPDB"),e("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Hasil seleksi calon siswa baru")])],-1)),e("div",I,[e("div",M,[e("div",N,[e("div",S,[x(c(C),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),t[1]||(t[1]=e("span",{class:"text-xs font-medium text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full"},"Lulus",-1))]),e("h3",T,r(i.value.accepted||0),1),t[2]||(t[2]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Diterima",-1))]),e("div",H,[e("div",V,[e("div",E,[x(c(B),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),t[3]||(t[3]=e("span",{class:"text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-1 rounded-full"},"Tidak Lolos",-1))]),e("h3",R,r(i.value.rejected||0),1),t[4]||(t[4]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Ditolak",-1))]),e("div",z,[e("div",J,[e("div",K,[x(c(L),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),t[5]||(t[5]=e("span",{class:"text-xs font-medium text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20 px-3 py-1 rounded-full"},"Proses",-1))]),e("h3",O,r(i.value.selection||0),1),t[6]||(t[6]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Menunggu",-1))])]),e("div",U,[_(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),onChange:m,class:"px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-sm"},[...t[7]||(t[7]=[e("option",{value:"all"},"Semua Hasil",-1),e("option",{value:"accepted"},"Diterima",-1),e("option",{value:"rejected"},"Ditolak",-1)])],544),[[w,l.value]])]),e("div",W,[g.value?(d(),o("div",X,[...t[8]||(t[8]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):n.value.length?(d(),o("div",q,[e("table",G,[t[10]||(t[10]=e("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"No. Registrasi"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Asal Sekolah"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jurusan"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase"},"Hasil")])],-1)),e("tbody",Q,[(d(!0),o(j,null,D(n.value,s=>(d(),o("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[e("td",Y,r(s.registration_number),1),e("td",Z,r(s.nama_lengkap),1),e("td",ee,r(s.asal_sekolah),1),e("td",te,[e("span",{class:f([s.jurusan_pilihan==="IPA"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800","px-2 py-1 rounded-lg text-xs font-medium"])},r(s.jurusan_pilihan),3)]),e("td",se,[e("span",{class:f([s.status==="accepted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-4 py-1.5 rounded-full text-sm font-semibold"])},r(s.status==="accepted"?"✓ DITERIMA":"✗ DITOLAK"),3)])]))),128))])])])):(d(),o("div",$,[x(c(A),{class:"w-12 h-12 mx-auto text-gray-400 mb-3"}),t[9]||(t[9]=e("p",{class:"text-gray-500"},"Belum ada hasil pengumuman",-1))]))])]))}},ne=P(ae,[["__scopeId","data-v-c9e3c2f9"]]);export{ne as default};
