import{r as y,o as O,s as Q,i as o,k as d,l as t,F as c,e as r,u as n,t as i,C as f,g as w,m as u,A as X,j as Y,B as m,O as k,E as Z,T as tt}from"./vendor-0BLfaBTW.js";import{a as et,c as _,d as at}from"./app-F21Gw_vX.js";import{a8 as st,C as rt,U as lt,l as ot,m as dt,a9 as P,a as L,a7 as nt,Q as it,ap as gt,ak as ut,ac as I,ab as E,W as bt,f as pt}from"./ui-BH4Jb6j-.js";const xt={class:"space-y-6"},yt={key:0,class:"flex items-center justify-center min-h-[400px]"},ct={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6"},mt={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},ft={class:"flex items-center justify-between mb-4"},kt={class:"w-12 h-12 rounded-xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center"},vt={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},ht={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},wt={class:"flex items-center justify-between mb-4"},_t={class:"w-12 h-12 rounded-xl bg-yellow-50 dark:bg-yellow-900/20 flex items-center justify-center"},jt={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},Pt={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},Ct={class:"flex items-center justify-between mb-4"},Dt={class:"w-12 h-12 rounded-xl bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center"},St={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},Bt={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},Tt={class:"flex items-center justify-between mb-4"},Ut={class:"w-12 h-12 rounded-xl bg-green-50 dark:bg-green-900/20 flex items-center justify-center"},Vt={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},Ft={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300"},Lt={class:"flex items-center justify-between mb-4"},It={class:"w-12 h-12 rounded-xl bg-red-50 dark:bg-red-900/20 flex items-center justify-center"},Et={class:"text-3xl font-bold text-gray-900 dark:text-white mb-1 font-poppins"},Jt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Gt={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},Mt={key:0,class:"space-y-3"},Nt={class:"font-medium text-gray-900 dark:text-white"},Rt={class:"text-sm text-gray-500 dark:text-gray-400"},Wt={class:"text-right"},$t={class:"text-2xl font-bold text-blue-600"},Ht={key:1,class:"text-center py-8 text-gray-500"},Kt={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border border-gray-200 dark:border-gray-700"},qt={key:0,class:"space-y-3"},zt={class:"font-medium text-gray-900 dark:text-white"},At={class:"text-sm text-gray-500 dark:text-gray-400"},Ot={key:1,class:"text-center py-8 text-gray-500"},Qt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},Xt={class:"flex items-center justify-between p-4"},Yt={class:"flex items-center gap-3"},Zt={class:"w-10 h-10 rounded-xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center"},te=["disabled"],ee={key:0,class:"px-4 pb-4"},ae={class:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4"},se={class:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"},re={class:"ml-2 font-semibold text-gray-900 dark:text-white"},le={class:"ml-2 font-semibold text-gray-900 dark:text-white"},oe={class:"ml-2 font-semibold text-gray-900 dark:text-white"},de={class:"ml-2 font-semibold text-gray-900 dark:text-white"},ne={class:"border-t border-gray-200 dark:border-gray-700"},ie={class:"p-6 space-y-6"},ge={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2"},ue={key:0,class:"space-y-2 mb-3"},be={class:"text-gray-700 dark:text-gray-300"},pe={class:"font-semibold text-gray-900 dark:text-white"},xe={key:1,class:"text-sm text-gray-500 dark:text-gray-400 mb-3 italic"},ye={class:"space-y-2"},ce=["onUpdate:modelValue"],me=["onUpdate:modelValue"],fe=["onClick"],ke={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"relative"},we={class:"relative"},_e={class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},je={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2"},Pe={class:"space-y-2"},Ce={class:"text-gray-400 text-sm w-6"},De=["onUpdate:modelValue"],Se=["onClick"],Be={__name:"PpdbDashboard",setup(Te){const{showSuccess:J,showError:G}=at(),C=y(!0),v=y(!1),x=y(!1),b=y({total:0,by_status:{pending:0,verified:0,selection:0,accepted:0,rejected:0},waves:{active:0,total:0},wave_stats:[],recent:[]}),s=y({biaya_formulir:25e4,spp_bulanan:85e4,persyaratan:[],jadwal_tambahan:[]}),h=y([]),M=async()=>{try{const a=await _.get("/yasmin-panel/ppdb/dashboard");a.data.success&&(b.value=a.data.data)}catch(a){console.error("Failed to fetch PPDB dashboard:",a)}finally{C.value=!1}},D=async()=>{try{const a=await _.get("/yasmin-panel/ppdb/landing-settings");a.data.success&&(s.value=a.data.data)}catch(a){console.error("Failed to fetch landing settings:",a)}},N=async()=>{v.value=!0;try{(await _.post("/yasmin-panel/ppdb/landing-settings",s.value)).data.success&&(J("Berhasil!","Pengaturan berhasil disimpan"),x.value=!1)}catch(a){console.error("Failed to save landing settings:",a),G("Gagal!","Gagal menyimpan pengaturan")}finally{v.value=!1}},R=()=>{x.value=!1,D()},S=a=>a?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a):"Rp 0",B=a=>a?new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"",W=async()=>{var a;try{const e=await _.get("/yasmin-panel/ppdb/waves");e.data.success&&(h.value=((a=e.data.data)==null?void 0:a.data)||e.data.data||[])}catch(e){console.error("Failed to fetch waves:",e)}},$=()=>{s.value.jadwal_tambahan||(s.value.jadwal_tambahan=[]),s.value.jadwal_tambahan.push({label:"",value:""})},H=a=>{s.value.jadwal_tambahan.splice(a,1)},K=()=>{s.value.persyaratan.push("")},q=a=>{s.value.persyaratan.splice(a,1)},z=a=>({pending:"Menunggu",verified:"Terverifikasi",selection:"Seleksi",accepted:"Diterima",rejected:"Ditolak"})[a]||a,A=a=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",verified:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",selection:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",accepted:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[a]||"bg-gray-100 text-gray-800";return O(()=>{M(),D(),W()}),(a,e)=>{var T,U,V,F;const j=Q("router-link");return d(),o("div",xt,[C.value?(d(),o("div",yt,[...e[3]||(e[3]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(d(),o(c,{key:1},[t("div",ct,[t("div",mt,[t("div",ft,[t("div",kt,[r(n(st),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})]),e[4]||(e[4]=t("span",{class:"text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-3 py-1 rounded-full"},"Terdaftar",-1))]),t("h3",vt,i(b.value.total),1),e[5]||(e[5]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Total Pendaftar",-1))]),t("div",ht,[t("div",wt,[t("div",_t,[r(n(rt),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),e[6]||(e[6]=t("span",{class:"text-xs font-medium text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20 px-3 py-1 rounded-full"},"Pending",-1))]),t("h3",jt,i(b.value.by_status.pending),1),e[7]||(e[7]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Menunggu Verifikasi",-1))]),t("div",Pt,[t("div",Ct,[t("div",Dt,[r(n(lt),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})]),e[8]||(e[8]=t("span",{class:"text-xs font-medium text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20 px-3 py-1 rounded-full"},"Proses",-1))]),t("h3",St,i(b.value.by_status.selection),1),e[9]||(e[9]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Dalam Seleksi",-1))]),t("div",Bt,[t("div",Tt,[t("div",Ut,[r(n(ot),{class:"w-6 h-6 text-green-600 dark:text-green-400"})]),e[10]||(e[10]=t("span",{class:"text-xs font-medium text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full"},"Lulus",-1))]),t("h3",Vt,i(b.value.by_status.accepted),1),e[11]||(e[11]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Diterima",-1))]),t("div",Ft,[t("div",Lt,[t("div",It,[r(n(dt),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),e[12]||(e[12]=t("span",{class:"text-xs font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 px-3 py-1 rounded-full"},"Tidak Lolos",-1))]),t("h3",Et,i(b.value.by_status.rejected),1),e[13]||(e[13]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},"Ditolak",-1))])]),t("div",Jt,[t("div",Gt,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 font-poppins"}," Gelombang Pendaftaran ",-1)),(T=b.value.wave_stats)!=null&&T.length?(d(),o("div",Mt,[(d(!0),o(c,null,f(b.value.wave_stats,l=>(d(),o("div",{key:l.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},[t("div",null,[t("p",Nt,i(l.name),1),t("p",Rt,i(l.academic_year),1)]),t("div",Wt,[t("p",$t,i(l.registrations_count),1),e[14]||(e[14]=t("p",{class:"text-xs text-gray-500"},"pendaftar",-1))])]))),128))])):(d(),o("div",Ht,[r(n(P),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),e[15]||(e[15]=t("p",null,"Belum ada gelombang",-1))])),r(j,{to:"/yasmin-panel/ppdb/gelombang",class:"mt-4 inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium"},{default:w(()=>[e[16]||(e[16]=u(" Kelola Gelombang ",-1)),r(n(L),{class:"w-4 h-4 ml-1"})]),_:1})]),t("div",Kt,[e[20]||(e[20]=t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 font-poppins"}," Pendaftar Terbaru ",-1)),(U=b.value.recent)!=null&&U.length?(d(),o("div",qt,[(d(!0),o(c,null,f(b.value.recent,l=>(d(),o("div",{key:l.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl"},[t("div",null,[t("p",zt,i(l.nama_lengkap),1),t("p",At,i(l.registration_number),1)]),t("span",{class:X([A(l.status),"px-3 py-1 rounded-full text-xs font-medium"])},i(z(l.status)),3)]))),128))])):(d(),o("div",Ot,[r(n(nt),{class:"w-12 h-12 mx-auto mb-2 opacity-50"}),e[18]||(e[18]=t("p",null,"Belum ada pendaftar",-1))])),r(j,{to:"/yasmin-panel/ppdb/pendaftar",class:"mt-4 inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium"},{default:w(()=>[e[19]||(e[19]=u(" Lihat Semua Pendaftar ",-1)),r(n(L),{class:"w-4 h-4 ml-1"})]),_:1})])]),t("div",Qt,[t("div",Xt,[t("div",Yt,[t("div",Zt,[r(n(it),{class:"w-5 h-5 text-blue-600 dark:text-blue-400"})]),e[21]||(e[21]=t("div",null,[t("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white font-poppins"}," Pengaturan Info Landing Page "),t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Biaya & persyaratan yang ditampilkan di halaman PPDB")],-1))]),x.value?(d(),o("button",{key:1,onClick:N,disabled:v.value,class:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-medium text-sm transition-all disabled:opacity-50 flex items-center gap-2"},[r(n(ut),{class:"w-4 h-4"}),u(" "+i(v.value?"Menyimpan...":"Simpan"),1)],8,te)):(d(),o("button",{key:0,onClick:e[0]||(e[0]=l=>x.value=!0),class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium text-sm transition-all flex items-center gap-2"},[r(n(gt),{class:"w-4 h-4"}),e[22]||(e[22]=u(" Edit ",-1))]))]),x.value?Y("",!0):(d(),o("div",ee,[t("div",ae,[t("div",se,[t("div",null,[e[23]||(e[23]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Jadwal:",-1)),t("span",re,i(h.value.length+(((V=s.value.jadwal_tambahan)==null?void 0:V.length)||0))+" item",1)]),t("div",null,[e[24]||(e[24]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Biaya Formulir:",-1)),t("span",le,i(S(s.value.biaya_formulir)),1)]),t("div",null,[e[25]||(e[25]=t("span",{class:"text-gray-500 dark:text-gray-400"},"SPP Bulanan:",-1)),t("span",oe,i(S(s.value.spp_bulanan)),1)]),t("div",null,[e[26]||(e[26]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Persyaratan:",-1)),t("span",de,i(((F=s.value.persyaratan)==null?void 0:F.length)||0)+" item",1)])])])])),r(tt,{name:"accordion"},{default:w(()=>[m(t("div",ne,[t("div",ie,[t("div",null,[t("h3",ge,[r(n(P),{class:"w-4 h-4"}),e[27]||(e[27]=u(" Jadwal Pendaftaran ",-1))]),h.value.length?(d(),o("div",ue,[(d(!0),o(c,null,f(h.value,l=>(d(),o("div",{key:l.id,class:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-sm"},[r(n(P),{class:"w-4 h-4 text-blue-500"}),t("span",be,i(l.name)+":",1),t("span",pe,i(B(l.start_date))+" - "+i(B(l.end_date)),1)]))),128))])):(d(),o("p",xe,"Belum ada gelombang aktif")),t("div",ye,[(d(!0),o(c,null,f(s.value.jadwal_tambahan,(l,g)=>(d(),o("div",{key:"jadwal-"+g,class:"flex items-center gap-2"},[m(t("input",{"onUpdate:modelValue":p=>s.value.jadwal_tambahan[g].label=p,type:"text",placeholder:"Label (misal: Pengumuman)",class:"w-1/3 px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,8,ce),[[k,s.value.jadwal_tambahan[g].label]]),m(t("input",{"onUpdate:modelValue":p=>s.value.jadwal_tambahan[g].value=p,type:"text",placeholder:"Tanggal (misal: 5 Juli 2025)",class:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,8,me),[[k,s.value.jadwal_tambahan[g].value]]),t("button",{onClick:p=>H(g),class:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Hapus"},[r(n(I),{class:"w-4 h-4"})],8,fe)]))),128))]),t("button",{onClick:$,class:"mt-3 w-full px-4 py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-blue-500 hover:text-blue-600 rounded-xl text-sm transition-colors flex items-center justify-center gap-2"},[r(n(E),{class:"w-4 h-4"}),e[28]||(e[28]=u(" Tambah Jadwal Lainnya ",-1))])]),t("div",null,[t("h3",ke,[r(n(bt),{class:"w-4 h-4"}),e[29]||(e[29]=u(" Biaya ",-1))]),t("div",ve,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm text-gray-600 dark:text-gray-400 mb-1"},"Biaya Formulir",-1)),t("div",he,[e[30]||(e[30]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm"},"Rp",-1)),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.biaya_formulir=l),type:"number",class:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[k,s.value.biaya_formulir]])])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm text-gray-600 dark:text-gray-400 mb-1"},"SPP Bulanan",-1)),t("div",we,[e[32]||(e[32]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm"},"Rp",-1)),m(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.spp_bulanan=l),type:"number",class:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,512),[[k,s.value.spp_bulanan]])])])]),t("p",_e,[e[35]||(e[35]=u(" * Uang Pangkal per gelombang diatur di halaman ",-1)),r(j,{to:"/yasmin-panel/ppdb/gelombang",class:"text-blue-600 hover:underline"},{default:w(()=>[...e[34]||(e[34]=[u("Kelola Gelombang",-1)])]),_:1})])]),t("div",null,[t("h3",je,[r(n(pt),{class:"w-4 h-4"}),e[36]||(e[36]=u(" Persyaratan ",-1))]),t("div",Pe,[(d(!0),o(c,null,f(s.value.persyaratan,(l,g)=>(d(),o("div",{key:g,class:"flex items-center gap-2"},[t("span",Ce,i(g+1)+".",1),m(t("input",{"onUpdate:modelValue":p=>s.value.persyaratan[g]=p,type:"text",class:"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"},null,8,De),[[k,s.value.persyaratan[g]]]),t("button",{onClick:p=>q(g),class:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Hapus"},[r(n(I),{class:"w-4 h-4"})],8,Se)]))),128))]),t("button",{onClick:K,class:"mt-3 w-full px-4 py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-blue-500 hover:text-blue-600 rounded-xl text-sm transition-colors flex items-center justify-center gap-2"},[r(n(E),{class:"w-4 h-4"}),e[37]||(e[37]=u(" Tambah Item Persyaratan ",-1))])]),t("div",{class:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-end"},[t("button",{onClick:R,class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white text-sm font-medium transition-colors"}," Batal ")])])],512),[[Z,x.value]])]),_:1})])],64))])}}},Le=et(Be,[["__scopeId","data-v-46800954"]]);export{Le as default};
