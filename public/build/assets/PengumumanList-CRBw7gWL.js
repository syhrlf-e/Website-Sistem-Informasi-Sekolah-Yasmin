import{a as C,c as b,L as B,d as L}from"./app-F21Gw_vX.js";import{ab as j,e as A,ap as S,ac as N}from"./ui-BH4Jb6j-.js";import{r as m,o as T,s as E,i as o,k as n,l as e,e as d,g as h,m as f,u as g,t as i,F as I,C as M,A as k}from"./vendor-0BLfaBTW.js";const V={class:"space-y-6"},$={class:"flex items-center justify-between"},z={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 py-12"},F={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4"},G={class:"text-sm text-red-600 dark:text-red-400 font-poppins"},H={key:2,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},q={key:0,class:"p-12 text-center"},J={key:1,class:"overflow-x-auto"},K={class:"w-full"},R={class:"divide-y divide-gray-200 dark:divide-gray-700"},O={class:"px-6 py-4 text-sm text-gray-900 dark:text-white font-poppins"},Q={class:"px-6 py-4"},U={class:"flex items-center gap-3"},W=["src","alt"],X={class:"font-semibold text-gray-900 dark:text-white font-poppins line-clamp-1"},Y={class:"px-6 py-4"},Z={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 font-poppins"},ee={class:"px-6 py-4"},te={class:"flex items-center justify-center gap-2"},ae=["onClick"],se={__name:"PengumumanList",setup(re){const{showSuccess:_,showError:v,confirmDelete:w}=L(),c=m([]),u=m(!1),l=m(null);T(()=>{y()});const y=async()=>{var r,t;u.value=!0,l.value=null;try{const s=await b.get("/yasmin-panel/announcements");s.data.success&&(c.value=s.data.data)}catch(s){l.value=((t=(r=s.response)==null?void 0:r.data)==null?void 0:t.message)||"Gagal memuat data pengumuman"}finally{u.value=!1}},x=r=>{const t=new Date,s=new Date(r.start_date),a=new Date(r.end_date);return t>=s&&t<=a},D=r=>r?new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",P=async r=>{var s,a;if((await w("Hapus Pengumuman?","Pengumuman yang dihapus tidak dapat dikembalikan!")).isConfirmed)try{(await b.delete(`/yasmin-panel/announcements/${r}`)).data.success&&(await _("Berhasil!","Pengumuman berhasil dihapus"),y())}catch(p){await v("Gagal Menghapus",((a=(s=p.response)==null?void 0:s.data)==null?void 0:a.message)||"Terjadi kesalahan saat menghapus pengumuman")}};return(r,t)=>{const s=E("router-link");return n(),o("div",V,[e("div",$,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins"}," Pengumuman "),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," Kelola pengumuman popup yang tampil di homepage ")],-1)),d(s,{to:"/yasmin-panel/pengumuman/create",class:"flex items-center gap-2 px-5 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors duration-200 shadow-lg hover:shadow-xl font-poppins"},{default:h(()=>[d(g(j),{class:"w-5 h-5"}),t[0]||(t[0]=f(" Tambah Pengumuman ",-1))]),_:1})]),u.value?(n(),o("div",z,[d(B,{size:"md",color:"blue"})])):l.value?(n(),o("div",F,[e("p",G,i(l.value),1)])):(n(),o("div",H,[c.value.length===0?(n(),o("div",q,[d(g(A),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t[2]||(t[2]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2 font-poppins"}," Belum Ada Pengumuman ",-1)),t[3]||(t[3]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Buat pengumuman pertama untuk ditampilkan di homepage ",-1))])):(n(),o("div",J,[e("table",K,[t[4]||(t[4]=e("thead",{class:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"#"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Judul"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Status"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Dibuat"),e("th",{class:"px-6 py-4 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Action")])],-1)),e("tbody",R,[(n(!0),o(I,null,M(c.value,(a,p)=>(n(),o("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[e("td",O,i(p+1),1),e("td",Q,[e("div",U,[e("img",{src:a.image||"/images/placeholder.jpg",alt:a.title,class:"w-12 h-12 rounded-lg object-cover"},null,8,W),e("div",null,[e("p",X,i(a.title),1)])])]),e("td",Y,[e("span",{class:k(["inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium font-poppins",a.is_active&&x(a)?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"])},[e("div",{class:k(["w-2 h-2 rounded-full",a.is_active&&x(a)?"bg-green-500":"bg-gray-400"])},null,2),f(" "+i(a.is_active&&x(a)?"Aktif":"Nonaktif"),1)],2)]),e("td",Z,i(D(a.created_at)),1),e("td",ee,[e("div",te,[d(s,{to:`/yasmin-panel/pengumuman/edit/${a.id}`,class:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200",title:"Edit"},{default:h(()=>[d(g(S),{class:"w-4 h-4"})]),_:1},8,["to"]),e("button",{onClick:oe=>P(a.id),class:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors duration-200",title:"Hapus"},[d(g(N),{class:"w-4 h-4"})],8,ae)])])]))),128))])])]))]))])}}},le=C(se,[["__scopeId","data-v-192c3f8e"]]);export{le as default};
