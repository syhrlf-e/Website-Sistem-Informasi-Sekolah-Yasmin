import{a as k,L as I,d as T}from"./app-F21Gw_vX.js";import{u as E}from"./adminNews-QNGtzZXK.js";import{s as j,i as l,k as i,l as e,e as u,g as w,u as d,m as v,D as Q,F as _,C as $,t as p,j as P,A as C,c as h,S as V,o as q,f as F}from"./vendor-0BLfaBTW.js";import{ac as S,ab as A,S as M,ad as H,G as K}from"./ui-BH4Jb6j-.js";const U={class:"flex items-center justify-between"},z={class:"flex items-center gap-3"},G={__name:"BeritaListHeader",setup(s){return(g,t)=>{const o=j("router-link");return i(),l("div",U,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins"},"Berita"),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},"Kelola semua berita dan artikel")],-1)),e("div",z,[u(o,{to:"/yasmin-panel/berita/trash",class:"flex items-center gap-2 px-5 py-3 bg-gray-400 hover:bg-gray-500 text-white rounded-xl font-medium transition-colors duration-200 shadow-lg hover:shadow-xl font-poppins"},{default:w(()=>[u(d(S),{class:"w-5 h-5"})]),_:1}),u(o,{to:"/yasmin-panel/berita/create",class:"flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-medium transition-colors duration-200 shadow-lg hover:shadow-xl font-poppins"},{default:w(()=>[u(d(A),{class:"w-5 h-5"}),t[0]||(t[0]=v(" Tambah Berita ",-1))]),_:1})])])}}},J=k(G,[["__scopeId","data-v-b5b46699"]]),R={class:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700"},Y={class:"flex flex-col md:flex-row gap-4"},O={class:"flex-1 relative"},W=["value"],X=["value"],Z=["value"],ee={__name:"BeritaListFilters",props:{searchQuery:{type:String,default:""},filterCategory:{type:String,default:""},filterStatus:{type:String,default:""}},emits:["update:searchQuery","update:filterCategory","update:filterStatus"],setup(s){return(g,t)=>(i(),l("div",R,[e("div",Y,[e("div",O,[u(d(M),{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e("input",{value:s.searchQuery,onInput:t[0]||(t[0]=o=>g.$emit("update:searchQuery",o.target.value)),type:"text",placeholder:"Cari berita...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-poppins"},null,40,W)]),e("select",{value:s.filterCategory,onChange:t[1]||(t[1]=o=>g.$emit("update:filterCategory",o.target.value)),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-poppins"},[...t[3]||(t[3]=[Q('<option value="" data-v-6702cb4c>Semua Kategori</option><option value="event" data-v-6702cb4c>Event</option><option value="achievement" data-v-6702cb4c>Prestasi</option><option value="announcement" data-v-6702cb4c>Pengumuman</option><option value="other" data-v-6702cb4c>Lainnya</option>',5)])],40,X),e("select",{value:s.filterStatus,onChange:t[2]||(t[2]=o=>g.$emit("update:filterStatus",o.target.value)),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white font-poppins"},[...t[4]||(t[4]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"published"},"Terpublikasi",-1),e("option",{value:"draft"},"Draf",-1)])],40,Z)])]))}},te=k(ee,[["__scopeId","data-v-6702cb4c"]]),re={class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"},ae={key:0,class:"p-12 text-center"},se={key:1,class:"overflow-x-auto"},oe={class:"w-full"},ne={class:"divide-y divide-gray-200 dark:divide-gray-700"},ie={class:"px-6 py-4 text-sm text-gray-900 dark:text-white font-poppins"},le={class:"px-6 py-4"},de={class:"flex items-center gap-3"},ue=["src","alt"],ge={class:"font-semibold text-gray-900 dark:text-white font-poppins line-clamp-1"},pe={class:"text-xs text-gray-500 dark:text-gray-400"},ce={key:0,class:"inline-flex items-center gap-1 px-2 py-0.5 mt-1 rounded text-xs font-medium bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400"},ye={class:"px-6 py-4"},xe={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 font-poppins"},be={class:"px-6 py-4"},fe={key:0,class:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 font-poppins"},me={key:1,class:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 font-poppins"},he={class:"px-6 py-4 text-center text-sm text-gray-600 dark:text-gray-400 font-poppins"},ke={class:"px-6 py-4"},ve={class:"flex items-center justify-center gap-2"},_e=["onClick"],we=["onClick"],$e=["onClick"],Pe={__name:"BeritaListTable",props:{items:{type:Array,required:!0},startIndex:{type:Number,default:0}},emits:["edit","preview","delete"],setup(s){const g=n=>{const r={event:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400",achievement:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400",announcement:"bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-400",other:"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300"};return r[n]||r.other},t=n=>({event:"Event",achievement:"Prestasi",announcement:"Pengumuman",other:"Lainnya"})[n]||"Lainnya",o=n=>n?new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-";return(n,r)=>(i(),l("div",re,[s.items.length===0?(i(),l("div",ae,[...r[0]||(r[0]=[e("p",{class:"text-gray-600 dark:text-gray-400 font-poppins"},"Belum ada berita",-1)])])):(i(),l("div",se,[e("table",oe,[r[3]||(r[3]=e("thead",{class:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"#"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Judul"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Kategori"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Tanggal"),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Status"),e("th",{class:"px-6 py-4 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Views"),e("th",{class:"px-6 py-4 text-center text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider font-poppins"},"Action")])],-1)),e("tbody",ne,[(i(!0),l(_,null,$(s.items,(a,y)=>(i(),l("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[e("td",ie,p(s.startIndex+y+1),1),e("td",le,[e("div",de,[e("img",{src:a.image||"/images/placeholder-news.jpg",alt:a.title,class:"w-12 h-12 rounded-lg object-cover"},null,8,ue),e("div",null,[e("p",ge,p(a.title),1),e("p",pe,p(a.slug),1),a.is_featured?(i(),l("span",ce," â­ Featured ")):P("",!0)])])]),e("td",ye,[e("span",{class:C(["inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium",g(a.category)])},p(t(a.category)),3)]),e("td",xe,p(o(a.created_at)),1),e("td",be,[a.published?(i(),l("span",fe,[...r[1]||(r[1]=[e("div",{class:"w-2 h-2 rounded-full bg-green-500"},null,-1),v(" Published ",-1)])])):(i(),l("span",me,[...r[2]||(r[2]=[e("div",{class:"w-2 h-2 rounded-full bg-yellow-500"},null,-1),v(" Draft ",-1)])]))]),e("td",he,p(a.views||0),1),e("td",ke,[e("div",ve,[e("button",{onClick:c=>n.$emit("edit",a.id),class:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200 group",title:"Edit"},[u(d(H),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})],8,_e),e("button",{onClick:c=>n.$emit("preview",a),class:"p-2 rounded-lg bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors duration-200 group",title:"Preview"},[u(d(K),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})],8,we),e("button",{onClick:c=>n.$emit("delete",a.id),class:"p-2 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors duration-200 group",title:"Hapus"},[u(d(S),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})],8,$e)])])]))),128))])])]))]))}},Ce=k(Pe,[["__scopeId","data-v-40355da0"]]),Se={class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between"},Be={class:"text-sm text-gray-600 dark:text-gray-400 font-poppins"},Le={class:"flex items-center gap-2"},Ne=["disabled"],De=["onClick"],Ie=["disabled"],Te={__name:"BeritaListPagination",props:{currentPage:{type:Number,required:!0},lastPage:{type:Number,required:!0},from:{type:Number,default:0},to:{type:Number,default:0},total:{type:Number,default:0}},emits:["page-change"],setup(s){const g=s,t=h(()=>{const o=[],n=g.currentPage,r=g.lastPage;let a=Math.max(1,n-2),y=Math.min(r,a+4);y-a<4&&(a=Math.max(1,y-4));for(let c=a;c<=y;c++)o.push(c);return o});return(o,n)=>(i(),l("div",Se,[e("p",Be," Showing "+p(s.from||0)+" to "+p(s.to||0)+" of "+p(s.total||0)+" entries ",1),e("div",Le,[e("button",{onClick:n[0]||(n[0]=r=>o.$emit("page-change",s.currentPage-1)),disabled:s.currentPage===1,class:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-poppins disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Ne),(i(!0),l(_,null,$(t.value,r=>(i(),l("button",{key:r,onClick:a=>o.$emit("page-change",r),class:C(["px-4 py-2 rounded-lg font-semibold font-poppins transition-colors duration-200",r===s.currentPage?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},p(r),11,De))),128)),e("button",{onClick:n[1]||(n[1]=r=>o.$emit("page-change",s.currentPage+1)),disabled:s.currentPage===s.lastPage,class:"px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 font-poppins disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Ie)])]))}},Ee=k(Te,[["__scopeId","data-v-0f7f04f9"]]),je={class:"space-y-6"},Qe={key:0,class:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 py-12"},Ve={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4"},qe={class:"text-sm text-red-600 dark:text-red-400 font-poppins"},Fe={__name:"BeritaList",setup(s){const g=V(),t=E(),{showSuccess:o,showError:n,confirmDelete:r}=T(),a=h(()=>t.loading),y=h(()=>t.error),c=h(()=>t.items),b=h(()=>({current_page:t.currentPage,last_page:t.lastPage,per_page:t.perPage,total:t.total,from:t.from,to:t.to})),B=x=>{t.goToPage(x)},L=x=>{g.push(`/yasmin-panel/berita/edit/${x}`)},N=x=>{window.open(`/news/${x.slug}`,"_blank")},D=async x=>{if((await r("Yakin ingin menghapus?","Berita yang dihapus tidak bisa dikembalikan.")).isConfirmed)try{await t.deleteNews(x),await o("Berhasil!","Berita telah dihapus.")}catch{await n("Gagal!","Terjadi kesalahan saat menghapus berita.")}};return q(()=>{t.fetchNews()}),(x,f)=>(i(),l("div",je,[u(J),u(te,{"search-query":d(t).searchQuery,"filter-category":d(t).filterCategory,"filter-status":d(t).filterStatus,"onUpdate:searchQuery":f[0]||(f[0]=m=>d(t).setSearch(m)),"onUpdate:filterCategory":f[1]||(f[1]=m=>d(t).setCategory(m)),"onUpdate:filterStatus":f[2]||(f[2]=m=>d(t).setStatus(m))},null,8,["search-query","filter-category","filter-status"]),a.value?(i(),l("div",Qe,[u(I,{size:"md",color:"blue"})])):y.value?(i(),l("div",Ve,[e("p",qe,p(y.value),1)])):(i(),l(_,{key:2},[u(Ce,{items:c.value,"start-index":(b.value.current_page-1)*b.value.per_page,onEdit:L,onPreview:N,onDelete:D},null,8,["items","start-index"]),c.value.length>0?(i(),F(Ee,{key:0,"current-page":b.value.current_page,"last-page":b.value.last_page,from:b.value.from,to:b.value.to,total:b.value.total,onPageChange:B},null,8,["current-page","last-page","from","to","total"])):P("",!0)],64))]))}},Ue=k(Fe,[["__scopeId","data-v-f3f271de"]]);export{Ue as default};
