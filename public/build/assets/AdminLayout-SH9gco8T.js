const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-Cv2DAmhb.js","assets/app-F21Gw_vX.js","assets/vendor-0BLfaBTW.js","assets/ui-BH4Jb6j-.js","assets/app-shA91F7N.css","assets/Dashboard-Doyb-23S.css","assets/BeritaList-DklT9n1S.js","assets/adminNews-QNGtzZXK.js","assets/BeritaList-CgquN6gQ.css","assets/BeritaForm-CdPB7u8p.js","assets/ImageCropperModal-eOgvD4aF.js","assets/ImageCropperModal-BTkZQfcY.css","assets/BeritaForm-Bjq7ilZM.css","assets/EkskulList-B1kD64ew.js","assets/EkskulList-BuTVGaJ0.css","assets/GaleriPage-CeVpzpvP.js","assets/GaleriPage-CzM_z4uD.css","assets/PrestasiList-kqpWWkZI.js","assets/PrestasiList-BOgzxqEP.css","assets/PendaftarList-Ct4EsgVo.js","assets/PendaftarList-yY5e8WRo.css","assets/PengumumanList-CRBw7gWL.js","assets/PengumumanList-DiKAgt6O.css","assets/TestimoniList-DJCpIBJl.js","assets/TestimoniList-D5oLjEHq.css","assets/DokumenList-D53fl3Ve.js","assets/DokumenList-CltI99vJ.css","assets/GuruList-xUjd77YX.js","assets/GuruList-5IIwTXC0.css","assets/UsersPage-Bc4FNnTu.js","assets/UsersPage-DxxR91It.css"])))=>i.map(i=>d[i]);
import{a as D,u as Z,_ as c}from"./app-F21Gw_vX.js";import{i as p,k as o,j as P,l as e,t as f,r as x,o as z,b as F,e as a,u as n,A as S,g as w,f as v,T as $,s as M,Y as K,w as J,B as X,F as V,C as ee,E as te,q as G,c as I,S as ae}from"./vendor-0BLfaBTW.js";import{M as ne,O as se,Q as oe,V as re,Z as le,_ as ie,$ as de,a0 as ue,j as ce,a1 as O,a2 as C,U as N,e as B,f as R,N as pe,a3 as me,g as ge,a4 as ye,a5 as be,a6 as fe,a7 as ve,a8 as he}from"./ui-BH4Jb6j-.js";const _e={class:"flex items-center gap-3"},ke={key:0,class:"text-right hidden md:block"},xe={class:"text-sm font-semibold text-gray-900 dark:text-white font-poppins"},we={class:"text-xs text-gray-500 dark:text-gray-400"},Ae={class:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold"},Pe={__name:"UserAvatar",props:{user:{type:Object,default:null},showInfo:{type:Boolean,default:!0}},setup(t){return(l,r)=>{var s,u,g,i,m;return o(),p("div",_e,[t.showInfo?(o(),p("div",ke,[e("p",xe,f(((s=t.user)==null?void 0:s.name)||"Admin"),1),e("p",we,f(((u=t.user)==null?void 0:u.role)==="super_admin"?"Super Admin":"Admin"),1)])):P("",!0),e("div",Ae,f(((m=(i=(g=t.user)==null?void 0:g.name)==null?void 0:i[0])==null?void 0:m.toUpperCase())||"A"),1)])}}},De=D(Pe,[["__scopeId","data-v-4792b391"]]),Ee={class:"h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 flex-shrink-0"},Se={class:"flex items-center gap-4"},Ie={class:"text-lg font-semibold text-gray-900 dark:text-white font-poppins hidden lg:block"},$e={class:"flex items-center gap-2"},Te={class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors relative",title:"Notifikasi"},Le={key:0,class:"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 z-50"},Oe={class:"text-sm text-gray-700 dark:text-gray-200"},Ce={href:"/yasmin-panel/activity-logs",class:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},Be={__name:"AdminHeader",props:{pageTitle:{type:String,default:"Admin Panel"},user:{type:Object,default:null},isDark:{type:Boolean,default:!1}},emits:["toggle-sidebar","toggle-dark-mode","logout"],setup(t,{emit:l}){const r=l,s=x(!1),u=x(null),g=()=>{s.value=!s.value},i=()=>{r("toggle-dark-mode")},m=()=>{s.value=!1,window.open("https://wa.me/6285155258099?text=Halo, saya butuh bantuan dengan Yasmin Panel","_blank")},h=()=>{s.value=!1,r("logout")},_=k=>{u.value&&!u.value.contains(k.target)&&(s.value=!1)};return z(()=>{document.addEventListener("click",_)}),F(()=>{document.removeEventListener("click",_)}),(k,d)=>(o(),p("header",Ee,[e("div",Se,[e("button",{onClick:d[0]||(d[0]=j=>k.$emit("toggle-sidebar")),class:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"},[a(n(ne),{class:"w-6 h-6 text-gray-700 dark:text-gray-300"})]),e("h2",Ie,f(t.pageTitle),1)]),e("div",$e,[e("button",Te,[a(n(se),{class:"w-5 h-5 text-gray-600 dark:text-gray-300"})]),e("div",{class:"relative",ref_key:"settingsRef",ref:u},[e("button",{onClick:g,class:S(["p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",{"bg-gray-100 dark:bg-gray-700":s.value}]),title:"Pengaturan"},[a(n(oe),{class:"w-5 h-5 text-gray-600 dark:text-gray-300"})],2),a($,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:w(()=>[s.value?(o(),p("div",Le,[e("button",{onClick:i,class:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left"},[t.isDark?(o(),v(n(le),{key:1,class:"w-5 h-5 text-yellow-500"})):(o(),v(n(re),{key:0,class:"w-5 h-5 text-gray-500 dark:text-gray-400"})),e("span",Oe,f(t.isDark?"Mode Terang":"Mode Gelap"),1)]),e("a",Ce,[a(n(ie),{class:"w-5 h-5 text-gray-500 dark:text-gray-400"}),d[1]||(d[1]=e("span",{class:"text-sm text-gray-700 dark:text-gray-200"},"Riwayat Aktifitas",-1))]),e("button",{onClick:m,class:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left"},[a(n(de),{class:"w-5 h-5 text-gray-500 dark:text-gray-400"}),d[2]||(d[2]=e("span",{class:"text-sm text-gray-700 dark:text-gray-200"},"Bantuan",-1))]),d[4]||(d[4]=e("div",{class:"my-2 border-t border-gray-200 dark:border-gray-700"},null,-1)),e("button",{onClick:h,class:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-left"},[a(n(ue),{class:"w-5 h-5 text-red-500"}),d[3]||(d[3]=e("span",{class:"text-sm text-red-600 dark:text-red-400"},"Keluar",-1))])])):P("",!0)]),_:1})],512),d[5]||(d[5]=e("div",{class:"w-px h-8 bg-gray-200 dark:bg-gray-700 mx-2"},null,-1)),a(De,{user:t.user,"show-info":!0},null,8,["user"])])]))}},Re=D(Be,[["__scopeId","data-v-66fcd3d0"]]),Ke={class:"font-medium font-poppins"},Ve={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 w-2.5 h-2.5 bg-red-500 rounded-full notification-dot"},Me={__name:"SidebarMenuItem",props:{to:{type:String,required:!0},icon:{type:[Object,Function],required:!0},label:{type:String,required:!0},badge:{type:Number,default:0},showIf:{type:Boolean,default:!0}},setup(t){return(l,r)=>{const s=M("router-link");return t.showIf?(o(),v(s,{key:0,to:t.to,class:"flex items-center gap-3 px-4 py-3 rounded-xl text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200 relative","active-class":"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold"},{default:w(()=>[(o(),v(K(t.icon),{class:"w-5 h-5"})),e("span",Ke,f(t.label),1),a($,{name:"bounce"},{default:w(()=>[t.badge&&t.badge>0?(o(),p("span",Ve)):P("",!0)]),_:1})]),_:1},8,["to"])):P("",!0)}}},b=D(Me,[["__scopeId","data-v-36b47c6c"]]),je={class:"flex items-center gap-3"},qe={class:"font-medium font-poppins"},Ne={class:"ml-4 mt-2 space-y-1 overflow-hidden"},Ue={class:"font-poppins"},ze={__name:"SidebarSubmenu",props:{icon:{type:[Object,Function],required:!0},label:{type:String,required:!0},items:{type:Array,required:!0},isActive:{type:Boolean,default:!1},defaultOpen:{type:Boolean,default:!0}},setup(t){const l=t,r=x(l.defaultOpen);return J(()=>l.isActive,s=>{s&&(r.value=!0)},{immediate:!0}),(s,u)=>{const g=M("router-link");return o(),p("div",null,[e("button",{onClick:u[0]||(u[0]=i=>r.value=!r.value),class:S(["w-full flex items-center justify-between px-4 py-3 rounded-xl transition-colors duration-200",t.isActive?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-semibold":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},[e("div",je,[(o(),v(K(t.icon),{class:"w-5 h-5"})),e("span",qe,f(t.label),1)]),a(n(ce),{class:S([r.value?"rotate-180":"","w-4 h-4 transition-transform duration-200"])},null,8,["class"])],2),a($,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 max-h-0","enter-to-class":"opacity-100 max-h-96","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 max-h-96","leave-to-class":"opacity-0 max-h-0"},{default:w(()=>[X(e("div",Ne,[(o(!0),p(V,null,ee(t.items,i=>(o(),v(g,{key:i.to,to:i.to,class:"flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200","active-class":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white font-semibold"},{default:w(()=>[(o(),v(K(i.icon),{class:"w-4 h-4"})),e("span",Ue,f(i.label),1)]),_:2},1032,["to"]))),128))],512),[[te,r.value]])]),_:1})])}}},U=D(ze,[["__scopeId","data-v-3e767c61"]]),Fe={class:"flex-1 px-4 py-6 space-y-2 overflow-y-auto custom-scrollbar"},Ge={__name:"AdminSidebar",props:{isOpen:{type:Boolean,default:!1},pendingCount:{type:Number,default:0},isSuperAdmin:{type:Boolean,default:!1},isAdminPpdb:{type:Boolean,default:!1}},setup(t){const l=G(),r=[{to:"/yasmin-panel/berita",icon:pe,label:"Berita"},{to:"/yasmin-panel/ekskul",icon:me,label:"Ekstrakurikuler"},{to:"/yasmin-panel/galeri",icon:ge,label:"Galeri"},{to:"/yasmin-panel/prestasi",icon:ye,label:"Prestasi"},{to:"/yasmin-panel/pengumuman",icon:B,label:"Pengumuman"},{to:"/yasmin-panel/testimoni",icon:be,label:"Testimoni"},{to:"/yasmin-panel/guru",icon:fe,label:"Data Guru"}],s=I(()=>["/yasmin-panel/berita","/yasmin-panel/ekskul","/yasmin-panel/galeri","/yasmin-panel/prestasi","/yasmin-panel/pengumuman","/yasmin-panel/testimoni","/yasmin-panel/guru"].some(m=>l.path.startsWith(m))),u=[{to:"/yasmin-panel/ppdb",icon:O,label:"Dashboard PPDB"},{to:"/yasmin-panel/ppdb/pendaftar",icon:C,label:"Pendaftar"},{to:"/yasmin-panel/ppdb/seleksi",icon:N,label:"Seleksi"},{to:"/yasmin-panel/ppdb/pengumuman",icon:B,label:"Pengumuman"},{to:"/yasmin-panel/dokumen",icon:R,label:"Dokumen"}],g=I(()=>l.path.startsWith("/yasmin-panel/ppdb"));return(i,m)=>(o(),p("aside",{class:S([t.isOpen?"translate-x-0":"-translate-x-full lg:translate-x-0","fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-transform duration-300 ease-in-out flex flex-col"])},[m[0]||(m[0]=e("div",{class:"h-16 flex items-center px-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0"},[e("h1",{class:"text-xl font-bold text-gray-900 dark:text-white font-poppins"},"Yasmin Panel")],-1)),e("nav",Fe,[t.isAdminPpdb?(o(),p(V,{key:0},[a(b,{to:"/yasmin-panel/ppdb",icon:n(O),label:"Dashboard"},null,8,["icon"]),a(b,{to:"/yasmin-panel/ppdb/pendaftar",icon:n(C),label:"Pendaftar"},null,8,["icon"]),a(b,{to:"/yasmin-panel/ppdb/seleksi",icon:n(N),label:"Seleksi"},null,8,["icon"]),a(b,{to:"/yasmin-panel/ppdb/pengumuman",icon:n(B),label:"Pengumuman"},null,8,["icon"]),a(b,{to:"/yasmin-panel/dokumen",icon:n(R),label:"Dokumen PPDB"},null,8,["icon"])],64)):(o(),p(V,{key:1},[a(b,{to:"/yasmin-panel/dashboard",icon:n(O),label:"Dashboard"},null,8,["icon"]),a(U,{icon:n(R),label:"Konten",items:r,"is-active":s.value,"default-open":!0},null,8,["icon","is-active"]),a(b,{to:"/yasmin-panel/pendaftar",icon:n(C),label:"Pendaftar Ekskul",badge:t.pendingCount},null,8,["icon","badge"]),a(U,{icon:n(ve),label:"PPDB",items:u,"is-active":g.value},null,8,["icon","is-active"]),a(b,{to:"/yasmin-panel/users",icon:n(he),label:"Pengguna","show-if":t.isSuperAdmin},null,8,["icon","show-if"])],64))])],2))}},He=D(Ge,[["__scopeId","data-v-3854f4cc"]]),Qe={__name:"MobileOverlay",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t){return(l,r)=>(o(),v($,{"enter-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:w(()=>[t.show?(o(),p("div",{key:0,onClick:r[0]||(r[0]=s=>l.$emit("close")),class:"fixed inset-0 bg-black/50 z-40 lg:hidden"})):P("",!0)]),_:1}))}},Ye={class:"h-screen bg-gray-50 dark:bg-gray-900 flex overflow-hidden transition-colors duration-300"},We={class:"flex-1 flex flex-col overflow-hidden"},Ze={class:"flex-1 p-6 overflow-y-auto bg-gray-50 dark:bg-gray-900"},tt={__name:"AdminLayout",setup(t){const l=ae(),r=G(),{user:s,logout:u,initAuth:g,isSuperAdmin:i,isAdminPpdb:m}=Z(),h=x(!1),_=x(!1),k=x(0),d=I(()=>({"/yasmin-panel/dashboard":"Dashboard","/yasmin-panel/berita":"Kelola Konten","/yasmin-panel/ekskul":"Kelola Konten","/yasmin-panel/galeri":"Kelola Konten","/yasmin-panel/prestasi":"Kelola Konten","/yasmin-panel/pengumuman":"Kelola Pengumuman","/yasmin-panel/testimoni":"Kelola Testimoni","/yasmin-panel/dokumen":"Kelola Dokumen PPDB","/yasmin-panel/guru":"Kelola Data Guru","/yasmin-panel/pendaftar":"Kelola Pendaftar Ekstrakurikuler","/yasmin-panel/users":"Kelola Pengguna"})[r.path]||"Admin Panel"),j=I(()=>r.path==="/yasmin-panel/pendaftar"),T=async()=>{try{const y=sessionStorage.getItem("admin_token"),E=await(await fetch("/api/yasmin-panel/dashboard/stats",{headers:{Authorization:`Bearer ${y}`,Accept:"application/json"}})).json();E.success&&(k.value=E.data.pendaftar_pending||0)}catch(y){console.error("Error fetching sidebar stats:",y)}},q=()=>{document.hidden||T()};let L=null;const H=()=>{setTimeout(()=>{c(()=>import("./Dashboard-Cv2DAmhb.js"),__vite__mapDeps([0,1,2,3,4,5])),c(()=>import("./BeritaList-DklT9n1S.js"),__vite__mapDeps([6,1,2,3,4,7,8])),c(()=>import("./BeritaForm-CdPB7u8p.js"),__vite__mapDeps([9,2,1,3,4,10,11,12])),c(()=>import("./EkskulList-B1kD64ew.js"),__vite__mapDeps([13,1,2,3,4,10,11,14])),c(()=>import("./GaleriPage-CeVpzpvP.js"),__vite__mapDeps([15,1,2,3,4,10,11,16])),c(()=>import("./PrestasiList-kqpWWkZI.js"),__vite__mapDeps([17,1,2,3,4,10,11,18])),c(()=>import("./PendaftarList-Ct4EsgVo.js"),__vite__mapDeps([19,2,1,3,4,20])),c(()=>import("./PengumumanList-CRBw7gWL.js"),__vite__mapDeps([21,1,2,3,4,22])),c(()=>import("./TestimoniList-DJCpIBJl.js"),__vite__mapDeps([23,1,2,3,4,24])),c(()=>import("./DokumenList-D53fl3Ve.js"),__vite__mapDeps([25,1,2,3,4,26])),c(()=>import("./GuruList-xUjd77YX.js"),__vite__mapDeps([27,1,2,3,4,10,11,28])),c(()=>import("./UsersPage-Bc4FNnTu.js"),__vite__mapDeps([29,2,1,3,4,30]))},500)};z(()=>{g(),T(),H(),document.addEventListener("visibilitychange",q),L=setInterval(T,15e3)}),F(()=>{document.removeEventListener("visibilitychange",q),L&&clearInterval(L)});const Q=()=>{_.value=!_.value,document.documentElement.classList.toggle("dark")},Y=async()=>{try{await u(),await new Promise(y=>setTimeout(y,50)),sessionStorage.clear(),localStorage.clear(),await l.replace({name:"Login",query:{t:Date.now()}})}catch(y){console.error("Logout error:",y),sessionStorage.clear(),localStorage.clear(),await l.replace({name:"Login",query:{t:Date.now()}})}};return(y,A)=>{const E=M("router-view");return o(),p("div",Ye,[a(He,{"is-open":h.value,"pending-count":j.value?0:k.value,"is-super-admin":n(i),"is-admin-ppdb":n(m)},null,8,["is-open","pending-count","is-super-admin","is-admin-ppdb"]),a(Qe,{show:h.value,onClose:A[0]||(A[0]=W=>h.value=!1)},null,8,["show"]),e("div",We,[a(Re,{"page-title":d.value,user:n(s),"is-dark":_.value,onToggleSidebar:A[1]||(A[1]=W=>h.value=!h.value),onToggleDarkMode:Q,onLogout:Y},null,8,["page-title","user","is-dark"]),e("main",Ze,[a(E)])])])}}};export{tt as default};
