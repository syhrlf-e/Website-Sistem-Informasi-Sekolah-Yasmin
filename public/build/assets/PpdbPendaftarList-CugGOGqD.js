import{r as x,a as _,o as N,s as T,i as l,k as i,l as t,B as y,e as g,u as b,O as V,W as v,D as L,F as h,C as w,t as d,j as B,A as S,g as M,m as U}from"./vendor-0BLfaBTW.js";import{a as A,c as C}from"./app-F21Gw_vX.js";import{S as F,aq as I,G as $}from"./ui-BH4Jb6j-.js";const E={class:"space-y-6"},G={class:"bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-700"},K={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},R={class:"md:col-span-2"},W={class:"relative"},q=["value"],z={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},J={key:0,class:"flex items-center justify-center py-12"},O={key:1,class:"text-center py-12"},X={key:2,class:"overflow-x-auto"},H={class:"w-full"},Q={class:"divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"px-4 py-3"},Z={class:"font-mono text-sm text-blue-600 dark:text-blue-400"},tt={class:"px-4 py-3"},et={class:"font-medium text-gray-900 dark:text-white"},at={class:"text-xs text-gray-500"},st={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},rt={class:"px-4 py-3"},ot={class:"px-4 py-3"},dt={class:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400"},nt={class:"px-4 py-3 text-center"},lt={key:3,class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between"},it={class:"text-sm text-gray-500"},pt={class:"flex gap-2"},gt=["disabled"],ct=["disabled"],ut={__name:"PpdbPendaftarList",setup(xt){const c=x(!0),u=x([]),f=x([]),s=_({current_page:1,last_page:1,from:0,to:0,total:0}),r=_({search:"",status:"all",wave_id:""});let m=null;const P=()=>{clearTimeout(m),m=setTimeout(()=>{p()},300)},p=async(o=1)=>{c.value=!0;try{const e=new URLSearchParams;e.append("page",o),r.search&&e.append("search",r.search),r.status!=="all"&&e.append("status",r.status),r.wave_id&&e.append("wave_id",r.wave_id);const n=await C.get(`/yasmin-panel/ppdb/registrations?${e.toString()}`);n.data.success&&(u.value=n.data.data.data,s.current_page=n.data.data.current_page,s.last_page=n.data.data.last_page,s.from=n.data.data.from||0,s.to=n.data.data.to||0,s.total=n.data.data.total)}catch(e){console.error("Failed to fetch registrations:",e)}finally{c.value=!1}},j=async()=>{try{const o=await C.get("/yasmin-panel/ppdb/waves?per_page=100");o.data.success&&(f.value=o.data.data.data)}catch(o){console.error("Failed to fetch waves:",o)}},k=o=>{p(o)},D=o=>({pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",verified:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",selection:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",accepted:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"})[o]||"bg-gray-100 text-gray-800";return N(()=>{j(),p()}),(o,e)=>{const n=T("router-link");return i(),l("div",E,[e[11]||(e[11]=t("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white font-poppins"},"Data Pendaftar PPDB"),t("p",{class:"text-gray-500 dark:text-gray-400 text-sm"},"Kelola data calon siswa baru")])],-1)),t("div",G,[t("div",K,[t("div",R,[t("div",W,[g(b(F),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.search=a),type:"text",placeholder:"Cari nama, no. registrasi, NIK...",class:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",onInput:P},null,544),[[V,r.search]])])]),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.status=a),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",onChange:p},[...e[5]||(e[5]=[L('<option value="all" data-v-bef7d794>Semua Status</option><option value="pending" data-v-bef7d794>Menunggu</option><option value="verified" data-v-bef7d794>Terverifikasi</option><option value="selection" data-v-bef7d794>Seleksi</option><option value="accepted" data-v-bef7d794>Diterima</option><option value="rejected" data-v-bef7d794>Ditolak</option>',6)])],544),[[v,r.status]]),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.wave_id=a),class:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",onChange:p},[e[6]||(e[6]=t("option",{value:""},"Semua Gelombang",-1)),(i(!0),l(h,null,w(f.value,a=>(i(),l("option",{key:a.id,value:a.id},d(a.name),9,q))),128))],544),[[v,r.wave_id]])])]),t("div",z,[c.value?(i(),l("div",J,[...e[7]||(e[7]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])])):u.value.length?(i(),l("div",X,[t("table",H,[e[10]||(e[10]=t("thead",{class:"bg-gray-50 dark:bg-gray-700/50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"No. Registrasi"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Nama Lengkap"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Asal Sekolah"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Jurusan"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-4 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",Q,[(i(!0),l(h,null,w(u.value,a=>(i(),l("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[t("td",Y,[t("span",Z,d(a.registration_number),1)]),t("td",tt,[t("div",null,[t("p",et,d(a.nama_lengkap),1),t("p",at,d(a.jenis_kelamin),1)])]),t("td",st,d(a.asal_sekolah),1),t("td",rt,[t("span",{class:S([a.jurusan_pilihan==="IPA"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","px-2 py-1 rounded-lg text-xs font-medium"])},d(a.jurusan_pilihan),3)]),t("td",ot,[t("span",{class:S([D(a.status),"px-3 py-1 rounded-full text-xs font-medium"])},d(a.status_label),3)]),t("td",dt,d(a.created_at),1),t("td",nt,[g(n,{to:`/yasmin-panel/ppdb/pendaftar/${a.id}`,class:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-lg text-sm font-medium transition-colors"},{default:M(()=>[g(b($),{class:"w-4 h-4"}),e[9]||(e[9]=U(" Detail ",-1))]),_:1},8,["to"])])]))),128))])])])):(i(),l("div",O,[g(b(I),{class:"w-12 h-12 mx-auto text-gray-400 mb-3"}),e[8]||(e[8]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Tidak ada data pendaftar",-1))])),s.last_page>1?(i(),l("div",lt,[t("p",it," Menampilkan "+d(s.from)+" - "+d(s.to)+" dari "+d(s.total)+" data ",1),t("div",pt,[t("button",{disabled:s.current_page===1,onClick:e[3]||(e[3]=a=>k(s.current_page-1)),class:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm disabled:opacity-50"}," Prev ",8,gt),t("button",{disabled:s.current_page===s.last_page,onClick:e[4]||(e[4]=a=>k(s.current_page+1)),class:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm disabled:opacity-50"}," Next ",8,ct)])])):B("",!0)])])}}},mt=A(ut,[["__scopeId","data-v-bef7d794"]]);export{mt as default};
